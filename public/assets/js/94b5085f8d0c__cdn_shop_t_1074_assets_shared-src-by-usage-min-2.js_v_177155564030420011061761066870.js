"use strict";(self.webpackChunkshopify_theme=self.webpackChunkshopify_theme||[]).push([[462],{"3dcac4a0487debd3dd31":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DUPLICATE_ITEM_REPLACEMENT_DATA:()=>DUPLICATE_ITEM_REPLACEMENT_DATA,createBundleExtraData:()=>createBundleExtraData,createBundleItem:()=>createBundleItem,getBundleId:()=>getBundleId,parseLineItemProperties:()=>parseLineItemProperties});var _core_typescript_guards__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9336415c7787ae96cc39");const parseLineItemProperties=properties=>Object.entries(properties||{}).filter(function(entry){return(0,_core_typescript_guards__WEBPACK_IMPORTED_MODULE_0__.isPresent)(entry[1])}),DUPLICATE_ITEM_REPLACEMENT_DATA=[{baseItemId:44464956080366,duplicateItemId:44441025216750}],createBundleExtraData=item=>{var _item_properties,_item_properties1;return{product_id:item.id||0,product_title:item.title||"",product_price:item.final_price||0,product_qty:item.quantity,product_variant_image:`${(_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._featured_variant_image}`,product_bundle_image:`${(_item_properties1=item.properties)===null||_item_properties1===void 0?void 0:_item_properties1._featured_bundle_image}`}},createBundleItem=(item,bundleId,bundleItems)=>{var _item_properties,_item_properties1,_item_properties2;return{...item,bundle_title:String(((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._custom_bundle_title)||""),bundle_image:String(((_item_properties1=item.properties)===null||_item_properties1===void 0?void 0:_item_properties1._custom_bundle_image)||""),bundle_url:String(((_item_properties2=item.properties)===null||_item_properties2===void 0?void 0:_item_properties2._custom_bundle_url)||""),bundle_uid:bundleId,bundle_items:bundleItems,quantity:1}},getBundleId=item=>{var _item_properties;const bundleId=(_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._custom_bundle_uid;return typeof bundleId=="string"?bundleId:null}},"23e95556235fef5f648f":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Button:()=>Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9811ef06b956fcd727d6");const Button=({label,title,onClick,href,element,modifiers,mode,disabled})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"Button-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(element,{className:`Button u-pSize ${modifiers}`,"data-mode":mode||"","data-product-title":title,onClick:e=>onClick?onClick(e):null,href,disabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,label,[1,2,3,4].map(index=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{key:index,"data-index":index,className:"Button-hover-helper"})),mode==="wave"?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"1",className:"Button-background-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 519.75 900 81.25"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 524L10 529.8C20 535.7 40 547.3 60 548.8C80 550.3 100 541.7 120 538C140 534.3 160 535.7 180 531.8C200 528 220 519 240 519.8C260 520.7 280 531.3 300 539.3C320 547.3 340 552.7 360 556.2C380 559.7 400 561.3 420 559.3C440 557.3 460 551.7 480 552.2C500 552.7 520 559.3 540 557C560 554.7 580 543.3 600 537.5C620 531.7 640 531.3 660 531.3C680 531.3 700 531.7 720 530.7C740 529.7 760 527.3 780 530.8C800 534.3 820 543.7 840 549C860 554.3 880 555.7 890 556.3L900 557L900 601L890 601C880 601 860 601 840 601C820 601 800 601 780 601C760 601 740 601 720 601C700 601 680 601 660 601C640 601 620 601 600 601C580 601 560 601 540 601C520 601 500 601 480 601C460 601 440 601 420 601C400 601 380 601 360 601C340 601 320 601 300 601C280 601 260 601 240 601C220 601 200 601 180 601C160 601 140 601 120 601C100 601 80 601 60 601C40 601 20 601 10 601L0 601Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"2",className:"Button-background-content",style:{height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.26 600"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M113 0L104.5 6.7C96 13.3 79 26.7 76.7 40C74.3 53.3 86.7 66.7 91.8 80C97 93.3 95 106.7 100.8 120C106.7 133.3 120.3 146.7 119.2 160C118 173.3 102 186.7 90 200C78 213.3 70 226.7 65 240C60 253.3 58 266.7 61.2 280C64.3 293.3 72.7 306.7 71.7 320C70.7 333.3 60.3 346.7 63.7 360C67 373.3 84 386.7 92.7 400C101.3 413.3 101.7 426.7 101.8 440C102 453.3 102 466.7 103.7 480C105.3 493.3 108.7 506.7 103.2 520C97.7 533.3 83.3 546.7 75.3 560C67.3 573.3 65.7 586.7 64.8 593.3L64 600L0 600L0 593.3C0 586.7 0 573.3 0 560C0 546.7 0 533.3 0 520C0 506.7 0 493.3 0 480C0 466.7 0 453.3 0 440C0 426.7 0 413.3 0 400C0 386.7 0 373.3 0 360C0 346.7 0 333.3 0 320C0 306.7 0 293.3 0 280C0 266.7 0 253.3 0 240C0 226.7 0 213.3 0 200C0 186.7 0 173.3 0 160C0 146.7 0 133.3 0 120C0 106.7 0 93.3 0 80C0 66.7 0 53.3 0 40C0 26.7 0 13.3 0 6.7L0 0Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"3",className:"Button-background-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 519.75 900 81.25"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 524L10 529.8C20 535.7 40 547.3 60 548.8C80 550.3 100 541.7 120 538C140 534.3 160 535.7 180 531.8C200 528 220 519 240 519.8C260 520.7 280 531.3 300 539.3C320 547.3 340 552.7 360 556.2C380 559.7 400 561.3 420 559.3C440 557.3 460 551.7 480 552.2C500 552.7 520 559.3 540 557C560 554.7 580 543.3 600 537.5C620 531.7 640 531.3 660 531.3C680 531.3 700 531.7 720 530.7C740 529.7 760 527.3 780 530.8C800 534.3 820 543.7 840 549C860 554.3 880 555.7 890 556.3L900 557L900 601L890 601C880 601 860 601 840 601C820 601 800 601 780 601C760 601 740 601 720 601C700 601 680 601 660 601C640 601 620 601 600 601C580 601 560 601 540 601C520 601 500 601 480 601C460 601 440 601 420 601C400 601 380 601 360 601C340 601 320 601 300 601C280 601 260 601 240 601C220 601 200 601 180 601C160 601 140 601 120 601C100 601 80 601 60 601C40 601 20 601 10 601L0 601Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"4",className:"Button-background-content",style:{height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.26 600"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M113 0L104.5 6.7C96 13.3 79 26.7 76.7 40C74.3 53.3 86.7 66.7 91.8 80C97 93.3 95 106.7 100.8 120C106.7 133.3 120.3 146.7 119.2 160C118 173.3 102 186.7 90 200C78 213.3 70 226.7 65 240C60 253.3 58 266.7 61.2 280C64.3 293.3 72.7 306.7 71.7 320C70.7 333.3 60.3 346.7 63.7 360C67 373.3 84 386.7 92.7 400C101.3 413.3 101.7 426.7 101.8 440C102 453.3 102 466.7 103.7 480C105.3 493.3 108.7 506.7 103.2 520C97.7 533.3 83.3 546.7 75.3 560C67.3 573.3 65.7 586.7 64.8 593.3L64 600L0 600L0 593.3C0 586.7 0 573.3 0 560C0 546.7 0 533.3 0 520C0 506.7 0 493.3 0 480C0 466.7 0 453.3 0 440C0 426.7 0 413.3 0 400C0 386.7 0 373.3 0 360C0 346.7 0 333.3 0 320C0 306.7 0 293.3 0 280C0 266.7 0 253.3 0 240C0 226.7 0 213.3 0 200C0 186.7 0 173.3 0 160C0 146.7 0 133.3 0 120C0 106.7 0 93.3 0 80C0 66.7 0 53.3 0 40C0 26.7 0 13.3 0 6.7L0 0Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})))):[1,2,3,4].map(index=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{key:index,"data-index":index,"data-mode":mode||"",className:"Button-hover-content","aria-hidden":"true"},label)))))},"500d7b7d5caa19850b0e":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{stripHtml:()=>stripHtml});const stripHtml=input=>input&&new DOMParser().parseFromString(input,"text/html").documentElement.textContent||""},e163925c1d45d3e52fa8:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{productCardsLoadedRequestEventType:()=>productCardsLoadedRequestEventType,sendProductCardsLoadedRequestEvent:()=>sendProductCardsLoadedRequestEvent});var superstruct__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96294add2d9632ee5da8"),_modules_fire_custom_document_event__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e69617d47ec8036dbfb4");const productCardsLoadedRequestEventType="theme:product_cards_loaded_request",sendProductCardsLoadedRequestEvent=((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(productCardsLoadedRequestEventType),function(){(0,_modules_fire_custom_document_event__WEBPACK_IMPORTED_MODULE_1__.fireCustomEvent)(productCardsLoadedRequestEventType,null)})},"05b2a9d2e46eecb51430":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{App:()=>App});var preact_module=__webpack_require__("1c2804c76a9f261d83ca"),hooks_module=__webpack_require__("62b8c22c623551dccee1");const selectVariantReducer=function(state,action){const{optionsWithValues,variants,selectedVariantId:prevSelectedVariantId}=state;if(variants.length===0)return state;const prevSelectedVariant=variants.find(function(v){return v.id===prevSelectedVariantId})||variants[0];if(prevSelectedVariant==null)return state;const{payload:{optionValue:triggerOptionValue,optionIndex:rawTriggerOptionIndex}}=action,triggerOptionIndex=Math.round(rawTriggerOptionIndex),nextOptions=prevSelectedVariant.options.map(function(originalOption,originalOptionIndex){return originalOptionIndex===triggerOptionIndex?triggerOptionValue:originalOption}),calculateCandidateWeight=function(variant){return-1*variant.options.reduce(function(acc,optionValue,optionIndex){const nextOptionValue=nextOptions[optionIndex],optionMatch=optionValue===nextOptionValue?3:0,triggerOptionMatch=optionValue===triggerOptionValue&&optionIndex===triggerOptionIndex?9:0,optionWithValues=optionsWithValues[optionIndex];if(optionWithValues==null)throw new Error("Option with values not found by index [c9b74da1a44a4766a923ad4577c712d9]");const allOptionValues=optionWithValues.values,optionPosition=allOptionValues.findIndex(function(v){return v===optionValue}),nextOptionPosition=allOptionValues.findIndex(function(v){return v===nextOptionValue}),proximity=Math.abs(optionPosition-nextOptionPosition),proximityMatch=allOptionValues.length===0?0:proximity===0?6:proximity<=1?3:proximity<=3?2:proximity<=5?1:0;return[acc,optionMatch,triggerOptionMatch,proximityMatch-optionIndex>0?proximityMatch-optionIndex:0].reduce(function(sum,v){return sum+v},0)},0)},selectedVariant=[...variants].sort(function(a,b){return calculateCandidateWeight(a)-calculateCandidateWeight(b)})[0];if(selectedVariant==null)return state;const selectedVariantId=selectedVariant.id,selectedOptionIndex=selectedVariant.options[triggerOptionIndex]!=null?triggerOptionIndex:0,selectedOptionValue=selectedVariant.options[selectedOptionIndex];return selectedOptionValue==null?state:{optionsWithValues,variants,selectedVariantId,selectedOptionIndex,selectedOptionValue}};var clsx_m=__webpack_require__("0bec4b8beb117f5ab05d"),jquery=__webpack_require__("e8596b30a256edf356fc"),jquery_default=__webpack_require__.n(jquery),core_uid=__webpack_require__("69f8ff54509624d84153"),kebab_case=__webpack_require__("5643bba3a099be771fe7"),traversal=__webpack_require__("b56a16cdaeb8dc9b98d0");/*!
 * Render product option selectors
 */const ProductOptionsAsRadioButtons=function({triggerSelectCallback,optionNames,optionValueGroups,selectedOptions,dispatch,variantsData}){const[uid]=(0,hooks_module.useState)((0,core_uid.genUid)());(0,hooks_module.useEffect)(()=>{const swatchesInteractionHandler=evt=>{const swatchProductVariantOptionValues=(evt.delegateTarget.getAttribute("data-variant-options")||"").split("||"),variantOptionValueDisplay=document.querySelector(".js-variant-swatch-option-display");variantOptionValueDisplay?.setAttribute("data-has-selected-variant","true"),triggerSelectCallback(),swatchProductVariantOptionValues.forEach((swatchProductVariantOptionValue,index)=>{dispatch({type:"SelectOption",payload:{optionIndex:index,optionValue:swatchProductVariantOptionValue}})})},swatches=jquery_default()('.js-product-swatches-container[data-swatches-type="product_options"] .js-product-swatch, .js-product-swatches-popup-mobile[data-swatches-type="product_options"] .js-product-swatch-bundle'),meetTheShadesSwatches=jquery_default()(".js-meet-the-shades .js-swatch-swiper .js-variant-swatch");meetTheShadesSwatches.on("click",function(evt){swatchesInteractionHandler(evt)}),meetTheShadesSwatches.on("keyup",function(evt){evt.keyCode===13&&swatchesInteractionHandler(evt)}),swatches.on("click",function(evt){swatchesInteractionHandler(evt)}),swatches.on("keyup",function(evt){evt.keyCode===13&&swatchesInteractionHandler(evt)})},[dispatch,triggerSelectCallback]);const dispatchSelectOption=(0,hooks_module.useCallback)((optionIndex,optionValue)=>{dispatch({type:"SelectOption",payload:{optionIndex,optionValue}})},[dispatch]);(0,hooks_module.useEffect)(()=>{const stickyOptionSelectors=(0,traversal.findElements)(document,".js-product-sticky-option"),mobileSwatches=(0,traversal.findElements)(document,".js-product-swatch");if(stickyOptionSelectors.length===0&&mobileSwatches.length===0)return;const getVariantTitle=selectedOption=>selectedOption.getAttribute("data-variant-title")||"",handleOptionClick=optionElement=>{const optionValue=getVariantTitle(optionElement);var selectedButton;(selectedButton2=>{const selectedVariant=selectedButton2.getAttribute("data-variant-id"),variantImages=(0,traversal.findElements)(document,".js-sticky-variant-image"),productImage=(0,traversal.findOneElement)(document,".js-sticky-product-image");variantImages.forEach(variantImage=>variantImage.classList.add("u-hide"));const activeVariantImage=variantImages.find(variantImage=>variantImage.getAttribute("data-variant-id")===selectedVariant);activeVariantImage?(productImage?.classList.add("u-hide"),activeVariantImage.classList.remove("u-hide")):productImage?.classList.remove("u-hide")})(optionElement),selectedButton=optionElement,stickyOptionSelectors.forEach(selector=>{selector.classList.toggle("selected",getVariantTitle(selector)===getVariantTitle(selectedButton))}),mobileSwatches.forEach(swatch=>{getVariantTitle(swatch)===getVariantTitle(selectedButton)?swatch.setAttribute("data-selected","true"):swatch.removeAttribute("data-selected")}),dispatchSelectOption(0,optionValue)};stickyOptionSelectors.forEach(stickyOptionSelector=>{stickyOptionSelector.addEventListener("click",()=>{stickyOptionSelector.classList.contains("selected")||handleOptionClick(stickyOptionSelector)})});const activeVariantTitle=selectedOptions[0],activeVariantSelector=stickyOptionSelectors.find(selector=>getVariantTitle(selector)===activeVariantTitle);activeVariantSelector&&handleOptionClick(activeVariantSelector)},[dispatchSelectOption,selectedOptions]);const handleKeyDown=(0,hooks_module.useCallback)((evt,optionIndex,optionValue)=>{if(!(evt.currentTarget instanceof HTMLElement))return;const currentGroup=evt.currentTarget.closest(".ProductRadioButtons-groupItems");if(!currentGroup)return;const radioButtons=Array.from(currentGroup.querySelectorAll('[role="radio"]')),currentIndex=radioButtons.indexOf(evt.currentTarget),currentGroupOptions=optionValueGroups[optionIndex];if(currentGroupOptions)switch(evt.key){case"ArrowRight":case"ArrowDown":{evt.preventDefault();const nextIndex=(currentIndex+1)%radioButtons.length,nextRadio=radioButtons[nextIndex];if(!(nextRadio instanceof HTMLElement))return;nextRadio.focus();const nextOptionValue=currentGroupOptions[nextIndex];nextOptionValue&&!nextOptionValue.disabled&&dispatch({type:"SelectOption",payload:{optionIndex,optionValue:nextOptionValue.name}});break}case"ArrowLeft":case"ArrowUp":{evt.preventDefault();const prevIndex=(currentIndex-1+radioButtons.length)%radioButtons.length,prevRadio=radioButtons[prevIndex];if(!(prevRadio instanceof HTMLElement))return;prevRadio.focus();const prevOptionValue=currentGroupOptions[prevIndex];prevOptionValue&&!prevOptionValue.disabled&&dispatch({type:"SelectOption",payload:{optionIndex,optionValue:prevOptionValue.name}});break}case" ":case"Enter":{evt.preventDefault();const currentOptionValue=currentGroupOptions[currentIndex];currentOptionValue&&!currentOptionValue.disabled&&dispatch({type:"SelectOption",payload:{optionIndex,optionValue:currentOptionValue.name}});break}}},[dispatch,optionValueGroups]);return(0,preact_module.h)("div",{className:"ProductRadioButtons"},optionNames.map(function(optionName,optionIndex){const optionGroup=optionValueGroups[optionIndex];return optionGroup==null?null:(0,preact_module.h)("fieldset",{className:"ProductRadioButtons-fieldset"},(0,preact_module.h)("div",{key:(0,kebab_case.kebabCase)(uid+optionName),className:(0,clsx_m.default)("ProductRadioButtons-group",{"has-singleOption":optionGroup.length===1})},(0,preact_module.h)("legend",{className:"ProductRadioButtons-groupLegend"},"Select "+optionName.toLowerCase()+":"),(0,preact_module.h)("div",{className:"ProductRadioButtons-groupItems",role:"radiogroup","aria-label":`Select ${optionName.toLowerCase()}`},optionGroup.map(function(optionValue){const{disabled}=optionValue,name=(0,kebab_case.kebabCase)(`${uid}-${optionName}`),id=(0,kebab_case.kebabCase)(`${name}-${optionValue.name}`),checked=optionValue.name===selectedOptions[optionIndex],variantData=variantsData.find(variant=>variant.variantTitle===optionValue.name),isNew=variantData?.newBadge,variantDescription=variantData?.variantDescription;return(0,preact_module.h)("div",{key:id,className:"ProductRadioButtons-item",role:"radio","aria-checked":checked,"aria-disabled":disabled,"aria-label":`Select ${optionName.toLowerCase()}: ${optionValue.name} ${variantDescription||""}`,tabIndex:checked?0:-1,onKeyDown:evt=>handleKeyDown(evt,optionIndex,optionValue.name)},(0,preact_module.h)("input",{id,name,checked,disabled,className:"ProductRadioButtons-itemRadio",type:"radio",value:optionValue.name,tabIndex:-1,onInput:function(){disabled||dispatch({type:"SelectOption",payload:{optionIndex,optionValue:optionValue.name}})}}),(0,preact_module.h)("label",{htmlFor:id,className:(0,clsx_m.default)("ProductRadioButtons-itemLabel u-pSize",{"ProductRadioButtons-itemLabel--checked":checked,"ProductRadioButtons-itemLabel--disabled":disabled}),tabIndex:-1},optionValue.name,(0,preact_module.h)("p",{className:"ProductRadioButtons-itemDescription variant-description"},variantDescription),isNew&&(0,preact_module.h)("span",{class:"Product-swatches-swatch__badge Product-swatches-swatch__badge--radio"},"new")))}))))}))},getOptionValues=function(variants,optionNames){return optionNames.map(function(_,optionIndex){return variants.map(function(variant){return variant.options[optionIndex]}).filter(function(optionValue){return!!(optionValue&&typeof optionValue=="string")}).filter(function(optionValue,index,self2){return self2.indexOf(optionValue)===index})})},App=function({product,optionsWithValues,selectCallback,selectedVariantId:rawSelectedVariantId,variantsData}){const[error]=(0,hooks_module.useErrorBoundary)(function(err){console.error(err)}),{options:optionNames,variants}=product,initialSelectedVariant=variants.find(variant=>variant.id===rawSelectedVariantId)||variants[0];var _initialSelectedVariant_id,_initialSelectedVariant_options_;const[state,dispatch]=(0,hooks_module.useReducer)(selectVariantReducer,{optionsWithValues,variants,selectedVariantId:(_initialSelectedVariant_id=initialSelectedVariant?.id)!==null&&_initialSelectedVariant_id!==void 0?_initialSelectedVariant_id:null,selectedOptionIndex:0,selectedOptionValue:(_initialSelectedVariant_options_=initialSelectedVariant?.options[0])!==null&&_initialSelectedVariant_options_!==void 0?_initialSelectedVariant_options_:null}),{selectedVariantId,selectedOptionValue,selectedOptionIndex}=state,[focusedOptionIndex,setFocusedOptionIndex]=(0,hooks_module.useState)(selectedOptionIndex),focusOnIndex=(0,hooks_module.useCallback)(function(index){setFocusedOptionIndex(index)},[setFocusedOptionIndex]),selectedVariant=variants.find(function(variant){return variant.id===selectedVariantId});if((0,hooks_module.useEffect)(function(){selectedVariant&&(function({productHandle,variantId}){try{const inputUrl=window.location.href,nextUrl=function({inputUrl:inputUrl2,productHandle:productHandle2,variantId:variantId2}){const url=new URL(inputUrl2),pathSegments=url.pathname.split("/"),actualHandle=pathSegments[pathSegments.length-1];return pathSegments[pathSegments.length-2]!=="products"||actualHandle!==productHandle2?inputUrl2:(url.searchParams.set("variant",variantId2.toString()),url.toString())}({inputUrl,productHandle,variantId});if(nextUrl===inputUrl)return;window.history.replaceState(null,document.title,nextUrl)}catch(err){console.error(err)}}({productHandle:product.handle,variantId:selectedVariant.id}),selectCallback({product,selectedVariant}))},[product,selectCallback,selectedVariant]),selectedVariantId==null)return null;if(selectedVariant==null)throw new Error("Selected variant is invalid");if(selectedOptionValue==null)throw new Error("Selected option is null");const{options:selectedOptions}=selectedVariant,optionValueGroups=function({optionNames:optionNames2,variants:variants2,selectedOption,selectedOptionIndex:selectedOptionIndex2,focusedOptionIndex:focusedOptionIndex2}){const allOptionValues=getOptionValues(variants2,optionNames2),availableOptionValues=getOptionValues(variants2.filter(function(variant){return variant.options[selectedOptionIndex2]===selectedOption}),optionNames2),inStockOptionValues=getOptionValues(variants2.filter(function(variant){return variant.available&&variant.options[selectedOptionIndex2]===selectedOption}),optionNames2);return allOptionValues.map(function(rowOptions,rowIndex){return rowOptions.map(function(name){var _availableOptionValues_rowIndex,_inStockOptionValues_rowIndex;const isActiveRow=rowIndex===selectedOptionIndex2,isFocusedRow=rowIndex===focusedOptionIndex2,noAvailableVariant=variants2.findIndex(function(variant){return variant.available&&variant.options[rowIndex]===name})===-1,disabled=!isActiveRow&&!isFocusedRow&&((_availableOptionValues_rowIndex=availableOptionValues[rowIndex])===null||_availableOptionValues_rowIndex===void 0?void 0:_availableOptionValues_rowIndex.findIndex(function(availableOption){return availableOption===name}))===-1,dimmed=isActiveRow||isFocusedRow?noAvailableVariant:((_inStockOptionValues_rowIndex=inStockOptionValues[rowIndex])===null||_inStockOptionValues_rowIndex===void 0?void 0:_inStockOptionValues_rowIndex.findIndex(function(availableOption){return availableOption===name}))===-1;return{name,disabled,dimmed}})})}({optionNames,selectedOptionIndex,focusedOptionIndex,variants,selectedOption:selectedOptionValue});return error?(0,preact_module.h)("div",{},"Internal error"):(0,preact_module.h)("div",{className:"ProductForm-options"},(0,preact_module.h)("input",{name:"id",type:"hidden",value:selectedVariantId,"data-product-id":product.id}),(0,preact_module.h)(ProductOptionsAsRadioButtons,{triggerSelectCallback:()=>{selectedVariantId!=null&&selectCallback({product,selectedVariant})},optionNames,optionValueGroups,selectedOptions,dispatch,focusedOptionIndex,focusOnIndex,variantsData}))}},"2b4a4ef9b07390ff2c29":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{useMachineState:()=>useMachineState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9811ef06b956fcd727d6"),stent_lib_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("39f54b870a48e387df3c");const useMachineState=machine=>{const[state,setState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(machine.state);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){return(0,stent_lib_helpers__WEBPACK_IMPORTED_MODULE_1__.connect)().with(machine.name).map(function(m){setState(m.state)})},[machine.name]),state}},"5643bba3a099be771fe7":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{kebabCase:()=>kebabCase});/*!
* Ported from Lodash
*/const rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak=`[${rsBreakRange}]`,rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc=`[^\\ud800-\\udfff${rsBreakRange+"\\d\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde"}]`,rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower=`(?:${rsLower}|${rsMisc})`,rsMiscUpper=`(?:${rsUpper}|${rsMisc})`,reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+`(?:\\u200d(?:${["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")})${"[\\ufe0e\\ufe0f]?"+reOptMod})*`,rsEmoji=`(?:${["[\\u2700-\\u27bf]",rsRegional,rsSurrPair].join("|")})${rsSeq}`,reUnicodeWords=RegExp([`${rsUpper}?${rsLower}+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=${[rsBreak,rsUpper,"$"].join("|")})`,`${rsMiscUpper}+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=${[rsBreak,rsUpper+rsMiscLower,"$"].join("|")})`,`${rsUpper}?${rsMiscLower}+(?:['\u2019](?:d|ll|m|re|s|t|ve))?`,`${rsUpper}+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",rsEmoji].join("|"),"g"),hasUnicodeWord=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kebabCase=function(string){return(string2=>(hasUnicodeWord(string2)?(string3=>string3.match(reUnicodeWords))(string2):(string3=>string3.match(reAsciiWord))(string2))||[])(string.replace(/['\u2019]/g,"")).reduce((result,word,index)=>result+(index?"-":"")+word.toLowerCase(),"")}},"8f2215462a877ba663ac":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{createRedirectHelper:()=>createRedirectHelper});const createRedirectHelper=(contentStartSelector,contentEndSelector,containerSelector,callBack,ignoreURLChange=!1)=>{const redirectHelper={containerSelector,contentStartSelector,contentEndSelector,callBack,pagesState:[],pageContentUpdating:!1,setPageContentUpdating:function(pageContentUpdating){redirectHelper.pageContentUpdating=pageContentUpdating},initPageLoad:function(url,redirectAfterLoad){redirectHelper.pagesState.find(pageState=>pageState.url===url)&&!redirectAfterLoad||window.location.pathname!==url&&(redirectHelper.pagesState.push({url,content:"",title:"",loaded:!1,redirectOnLoad:!1}),redirectHelper.getPage(url,redirectAfterLoad))},getPage:function(url,redirectAfterLoad){fetch(url).then(async res=>{const response=await res.text();return{content:response.substring(response.indexOf(redirectHelper.contentStartSelector)+redirectHelper.contentStartSelector.length,response.indexOf(redirectHelper.contentEndSelector)),title:response.substring(response.indexOf("<title>")+7,response.indexOf("</title>"))}}).then(requiredPage=>{const page=redirectHelper.pagesState.find(pageState=>pageState.url===url);page===void 0?(redirectHelper.pagesState.push({url,content:requiredPage.content,title:requiredPage.title,loaded:!0,redirectOnLoad:!1}),redirectAfterLoad&&redirectHelper.loadPage(url)):(page.content=requiredPage.content,page.title=requiredPage.title,page.loaded=!0),(page&&page.redirectOnLoad||redirectAfterLoad)&&redirectHelper.loadPage(url)})},loadPage:function(url){if(url===window.location.pathname)return;redirectHelper.setPageContentUpdating(!0);const requiredPage=redirectHelper.pagesState.find(pageState=>pageState.url===url);if(requiredPage&&requiredPage.loaded){const contentContainer=document.querySelector(redirectHelper.containerSelector);contentContainer&&(contentContainer.innerHTML=requiredPage.content),ignoreURLChange||(document.title=requiredPage.title,window.history.pushState({htmlForMain:requiredPage.content,pageTitle:requiredPage.title.replace("&ndash;","-")},"",requiredPage.url)),redirectHelper.setPageContentUpdating(!1),redirectHelper.callBack(),window.okeWidgetApi&&window.okeWidgetApi.initAllWidgets&&window.okeWidgetApi.initAllWidgets()}else requiredPage&&!requiredPage.loaded?requiredPage.redirectOnLoad=!0:redirectHelper.getPage(url,!0)}};return redirectHelper}},"90ffb912087cdbb9c1bc":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{App:()=>App});var react=__webpack_require__("9811ef06b956fcd727d6"),io=__webpack_require__("3c8c614229a55376da64"),use_machine_state=__webpack_require__("2b4a4ef9b07390ff2c29"),format_money=__webpack_require__("71c1c01bc06c47144711"),get_ajax_section=__webpack_require__("43debc60607aaaeb7620"),helpers=__webpack_require__("3dcac4a0487debd3dd31"),guards=__webpack_require__("9336415c7787ae96cc39"),get_sized_image_url=__webpack_require__("dee3a8a4569acc7535be"),clsx_m=__webpack_require__("0bec4b8beb117f5ab05d");const CartDrawerItem=function({item,items,moneyFormat,changeQuantity,cartLimitNo,cartMaxVariantsLimit,isGiftBag,giftBagDescription,isFreeGiftBagEnabled=!1}){var _item_product_title,_item_options_with_values,_item_options_with_values_;const smpVariantTitle=(0,react.useMemo)(()=>item.smp_variant_title,[item.smp_variant_title]),itemTitle=(0,react.useMemo)(()=>{var _item_product_title2;let productTitle=(_item_product_title2=item.product_title)===null||_item_product_title2===void 0?void 0:_item_product_title2.toLocaleLowerCase();return smpVariantTitle&&typeof smpVariantTitle=="string"&&productTitle&&(productTitle=productTitle.replace(smpVariantTitle.toLocaleLowerCase(),"")),productTitle?.toLocaleUpperCase()},[smpVariantTitle,item.product_title]),smpTitle=(0,react.useMemo)(()=>{var _item_product_title2;const productTitle=(_item_product_title2=item.product_title)===null||_item_product_title2===void 0?void 0:_item_product_title2.toLocaleLowerCase();return smpVariantTitle&&productTitle&&typeof smpVariantTitle=="string"&&productTitle.includes(smpVariantTitle.toLocaleLowerCase())?smpVariantTitle:""},[smpVariantTitle,item.product_title]),[quantityErrorVisible,setQuantityErrorVisible]=(0,react.useState)(!1),[errorType,setErrorType]=(0,react.useState)("max-qty"),isFreeGiftItem=(0,react.useMemo)(()=>{var _item_properties,_item_properties1;return((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gwp)||((_item_properties1=item.properties)===null||_item_properties1===void 0?void 0:_item_properties1._free_gift)},[item]);if((0,react.useEffect)(()=>{setTimeout(()=>{setQuantityErrorVisible(!1)},4e3)},[quantityErrorVisible]),(0,react.useEffect)(()=>{const quantityError=localStorage.getItem("internal_quantity_error");if(!quantityError)return;const currentItemInQuantityErrorPayload=io.InternalQuantityErrorPayload.create(JSON.parse(quantityError)).item_payload.find(quantityErrorItem=>quantityErrorItem.id===item.variant_id);currentItemInQuantityErrorPayload&&currentItemInQuantityErrorPayload.quantity+item.quantity>cartLimitNo&&(setQuantityErrorVisible(!0),setTimeout(()=>{localStorage.setItem("internal_quantity_error","")},500))},[item,cartLimitNo]),item.handle==null)return null;const itemProperties=Object.entries(item.properties||{}).filter(function(entry){return(0,guards.isPresent)(entry[1])}).filter(function([key]){return key.slice(0,1)!=="_"}),itemImage=item.properties&&item.properties["_featured-image"]?item.properties["_featured-image"]:(0,get_sized_image_url.resizeImage)((0,get_sized_image_url.getSizedImageUrl)(item.featured_image.url)||"","300x"),reduceQtyIcon=react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},react.createElement("path",{d:"M16 10c0 .553-.048 1-.601 1H4.601C4.049 11 4 10.553 4 10c0-.553.049-1 .601-1H15.4c.552 0 .6.447.6 1z"})),increaseQtyIcon=react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},react.createElement("path",{d:"M16 10c0 .553-.048 1-.601 1H11v4.399c0 .552-.447.601-1 .601-.553 0-1-.049-1-.601V11H4.601C4.049 11 4 10.553 4 10c0-.553.049-1 .601-1H9V4.601C9 4.048 9.447 4 10 4c.553 0 1 .048 1 .601V9h4.399c.553 0 .601.447.601 1z"}));return react.createElement("div",{className:"CartItem"},react.createElement("div",{className:"CartItem-section is-image"},react.createElement("div",{className:"CartItem-imageLink"},react.createElement("div",{className:"CartItem-imagePlaceholder o-placeholder",style:{backgroundImage:itemImage?`url(${itemImage})`:void 0},"aria-label":itemImage?`image of ${(_item_product_title=item.product_title)===null||_item_product_title===void 0?void 0:_item_product_title.toLocaleUpperCase()}`:"",tabIndex:itemImage?0:-1,"aria-hidden":itemImage?"false":"true"}))),react.createElement("div",{className:(0,clsx_m.default)("CartItem-section","is-info",{"is-free-gift":isFreeGiftItem})},react.createElement("div",{className:"CartItem-title-container"},react.createElement(isFreeGiftItem||isGiftBag?"div":"a",{className:"CartItem-title",href:(url=>{const currentURL=window.location.href,locales=["en-gb","en-ca","en-fr","en-de","en-it","en-ie","en-es","en-nl","en-fi","en-at","en-gr","en-pl","en-se","en-dk"],currentLocale=locales.filter(localeURL=>currentURL.includes(localeURL)),isUrlAlreadyLocalized=locales.some(localeURL=>url.includes(localeURL));return!currentLocale.length||isUrlAlreadyLocalized?url:url.replace("/products",`/${currentLocale[0]}/products`)})(item.url)},isGiftBag?(_item_options_with_values=item.options_with_values)===null||_item_options_with_values===void 0||(_item_options_with_values_=_item_options_with_values[0])===null||_item_options_with_values_===void 0?void 0:_item_options_with_values_.value.toLocaleUpperCase():itemTitle||""),react.createElement("div",{className:"CartItem-section is-price"},react.createElement("div",{className:"CartItem-price",dangerouslySetInnerHTML:{__html:(isGiftBag||isFreeGiftItem)&&item.line_price===0?"FREE":(0,format_money.formatMoney)(item.line_price,moneyFormat)}}))),react.createElement("div",{className:"CartItem-variantTitle"},function(){const variantTitle=item.variant_title||smpTitle||"";return variantTitle.toLowerCase().indexOf("default")>=0?"":variantTitle.split("/").filter((line,index)=>{const isGiftBagColor=isGiftBag&&index!==0;return!isGiftBag&&!line.toLocaleLowerCase().includes("case only")||isGiftBagColor}).map(line=>react.createElement("span",{key:line,className:"CartItem-variantTitle-line"},line))}()),itemProperties.length?react.createElement("dl",{className:"CartItem-properties"},itemProperties.map(([,value],index)=>react.createElement("dt",{key:`${value}-${index}`,className:"CartItem-propertyTitle"},value))):null,isGiftBag||isFreeGiftItem?react.createElement("div",{className:"CartGiftWrap-item"},isGiftBag?react.createElement("span",{className:"CartGiftWrap-item__message"},giftBagDescription):null,isFreeGiftBagEnabled||isFreeGiftItem?react.createElement("button",{onClick:evt=>{evt.preventDefault(),setQuantityErrorVisible(!1),changeQuantity({items:[{lineItemKey:item.key,quantity:0}]})},className:"CartGiftWrap-item__remove",role:"button"},"Remove"):null):null,isFreeGiftItem||isGiftBag&&isFreeGiftBagEnabled?null:react.createElement("div",{className:"CartItem-section is-qty"},react.createElement("div",{className:"o-qtyControls"},react.createElement("button",{className:"js-cart-drawer-qty o-qtyControls-button",type:"button","data-action":"minus",onClick:evt=>{evt.preventDefault(),setQuantityErrorVisible(!1),changeQuantity({items:[{lineItemKey:item.key,quantity:item.quantity-1}]})}},react.createElement("div",{className:"u-vhide"},"Reduce quantity"),react.createElement("div",{className:"o-placeholder"},reduceQtyIcon)),react.createElement("div",{className:"o-qtyControls-indicator"},react.createElement("span",{className:"u-vhide"},"Quantity"),item.quantity),react.createElement("button",{className:"js-cart-drawer-qty o-qtyControls-button",type:"button","data-action":"plus",onClick:evt=>{evt.preventDefault();const variantQuantityInCart=items.reduce((acc,cartItem)=>cartItem.variant_id===item.variant_id?acc+cartItem.quantity:acc,0),totalVariantsInCart=items.reduce((acc,cartItem)=>cartItem.product_id===item.product_id?acc+cartItem.quantity:acc,0),hasMaxVariantLimit=!!cartMaxVariantsLimit&&totalVariantsInCart+1>(cartMaxVariantsLimit||0);variantQuantityInCart+1>(cartLimitNo||0)||hasMaxVariantLimit?(setErrorType(hasMaxVariantLimit?"max-variants":"max-qty"),setQuantityErrorVisible(!0)):changeQuantity({items:[{lineItemKey:item.key,quantity:item.quantity+1}]})}},react.createElement("div",{className:"u-vhide"},"Increase quantity"),react.createElement("div",{className:"o-placeholder"},increaseQtyIcon))),quantityErrorVisible&&react.createElement("p",{className:"CartItem-error-message u-noMargin u-pSize__Small"},errorType==="max-variants"?`Limit ${cartMaxVariantsLimit||0} products per customer`:`Limit ${cartLimitNo} per customer`))))},GWPPromotion=props=>{const{sectionTitle,title,image,description,ctaLabel}=props,toggleUpsellContainer=(targetElement,open)=>{const upsellContainer=targetElement.closest(".CartDrawer-upsell-container");upsellContainer&&upsellContainer.classList.toggle("expanded",open)};var _title_toUpperCase;return react.createElement("div",{className:"CartWhiteSection-inner upsell-inner"},sectionTitle!=null?react.createElement("div",{className:"Cart-upsell-title u-noMargin",dangerouslySetInnerHTML:{__html:sectionTitle}}):null,react.createElement("div",{className:"CartDrawer-upsell-container"},sectionTitle!=null?react.createElement("div",{className:"Cart-upsell-title u-noMargin",dangerouslySetInnerHTML:{__html:sectionTitle}}):null,react.createElement("p",{className:"CartItem-close",onClick:evt=>{evt.preventDefault();const target=evt.target;target instanceof HTMLElement&&toggleUpsellContainer(target,!1)},onKeyDown:evt=>{const target=evt.target;target instanceof HTMLElement&&evt.key==="Enter"&&toggleUpsellContainer(target,!1)},tabIndex:0,"aria-label":"hide learn more info"}),react.createElement("div",{className:"CartItem"},react.createElement("div",{className:"CartItem-section is-image"},react.createElement("div",{className:"CartItem-imagePlaceholder o-placeholder",style:{backgroundImage:image?`url(${image})`:void 0}})),react.createElement("div",{className:"CartItem-section is-info"},react.createElement("div",{className:"CartItem-title-container"},react.createElement("div",{className:"CartItem-title-container-inner"},react.createElement("p",{className:"CartItem-title"},(_title_toUpperCase=title?.toUpperCase())!==null&&_title_toUpperCase!==void 0?_title_toUpperCase:""),description&&react.createElement("p",{className:"CartItem-learnMore u-pSize__Small",onClick:evt=>{evt.preventDefault();const target=evt.target;target instanceof HTMLElement&&toggleUpsellContainer(target,!0)},onKeyDown:evt=>{const target=evt.target;target instanceof HTMLElement&&evt.key==="Enter"&&toggleUpsellContainer(target,!0)},"aria-label":"expand learn more info",tabIndex:0},ctaLabel),description&&react.createElement("p",{className:"CartItem-subtitle u-pSize__Small",dangerouslySetInnerHTML:{__html:description}})))))))};var lib=__webpack_require__("16f110138c7b151c65d1");const RebuyProductSchema=lib.z.object({handle:lib.z.string()}),RebuyDataSchema=lib.z.object({data:lib.z.array(RebuyProductSchema)}),Selector=({customSelectorValue,itemGroups,selectedItemId,setSelectedItemId,classes=[]})=>{const[isActive,setIsActive]=(0,react.useState)(!1),selectedItem=itemGroups.map(itemGroup=>itemGroup.items).flat().find(item=>item.id===selectedItemId);return(0,react.useEffect)(()=>{var _document_querySelector;(_document_querySelector=document.querySelector("body"))===null||_document_querySelector===void 0||_document_querySelector.setAttribute("data-has-swatches-popup-opened",isActive?"true":"false")},[isActive]),selectedItem?react.createElement("div",{className:(0,clsx_m.default)("Product-swatches-container",classes)},react.createElement("div",{tabIndex:0,onClick:()=>{setIsActive(!isActive)},onKeyDown:e=>{e.key==="Enter"&&setIsActive(!isActive)}},react.createElement("p",{className:"Product-swatches-container-title u-pSize u-noMargin"},react.createElement("span",{className:"Product-swatches-container-info",style:{alignItems:"center",gap:"8px"}},react.createElement("b",{dangerouslySetInnerHTML:{__html:customSelectorValue||selectedItem.title||""}}),react.createElement("svg",{width:"10",height:"18",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M4.29296 5.292L0.707479 1.70717C0.0774266 1.07723 0.523574 0 1.41452 0H8.58548C9.47643 0 9.92257 1.07723 9.29252 1.70717L5.70704 5.292C5.31653 5.68244 4.68347 5.68244 4.29296 5.292Z",fill:"#67645E"}))))),react.createElement("div",{style:{paddingBottom:"0"},className:(0,clsx_m.default)("Product-swatches-popup","Product-swatches-popup--cart-drawer","Product-swatches-popup-wrapper",isActive?"Product-swatches-popup__active":"")},react.createElement("div",{className:"Product-swatches-popup__content"},react.createElement("button",{type:"button","aria-label":"Close Swatches Popup",className:"Product-swatches-popup-header",style:{top:"0.7rem",cursor:"pointer"},onClick:()=>{setIsActive(!1)}},react.createElement("span",null),react.createElement("span",null)),react.createElement("ul",null,itemGroups.map(itemGroup=>itemGroup.items.length===0?null:itemGroups.length>1?react.createElement(react.Fragment,null,react.createElement("li",{className:"Product-swatches-popup__group__title Product-swatches-group__mobile__header"},itemGroup.title),itemGroup.items.map(item=>react.createElement("li",{key:item.id,"data-selected":item.id===selectedItemId,tabIndex:0,"aria-label":"Select "+item.title,onClick:()=>{setSelectedItemId(item.id),setIsActive(!1)},onKeyDown:e=>{e.key!=="Enter"&&e.key!==" "||(setSelectedItemId(item.id),setIsActive(!1))}},item.image||item.color?react.createElement("div",{className:"Product-swatches-popup-image",style:item.image?{backgroundImage:`url(${item.image})`}:item.color?{backgroundColor:item.color,borderRadius:"50%"}:{}}):null,react.createElement("div",{className:"Product-swatches-popup-container-info"},react.createElement("b",null,item.title),item.description?react.createElement("b",null," -"):null,react.createElement("span",null,item.description))))):itemGroup.items.map(item=>react.createElement("li",{key:item.id,"data-selected":item.id===selectedItemId,"aria-label":"Select "+item.title,tabIndex:0,onClick:()=>{setSelectedItemId(item.id),setIsActive(!1)},onKeyDown:e=>{e.key!=="Enter"&&e.key!==" "||(setSelectedItemId(item.id),setIsActive(!1))}},item.image||item.color?react.createElement("div",{className:"Product-swatches-popup-image",style:item.image?{backgroundImage:`url(${item.image})`}:item.color?{backgroundColor:item.color,borderRadius:"50%"}:{}}):null,react.createElement("div",{className:"Product-swatches-popup-container-info"},react.createElement("b",null,item.title),item.description?react.createElement("b",null," -"):null,react.createElement("span",null,item.description)))))))),react.createElement("div",{className:"Product-swatches-popup-background",onClick:()=>{setIsActive(!1)}})):null};var components_button=__webpack_require__("d3369cc3fc506657d34e"),shopify_root=__webpack_require__("b44dc040835b61507697"),useQuery=__webpack_require__("e89f01003c16c0a582c5"),dist=__webpack_require__("96294add2d9632ee5da8"),product_options_io=__webpack_require__("b8a6475f1374bf47365a");const SmpCollectionData=(0,dist.type)({items:(0,dist.array)((0,dist.type)({product:(0,dist.nullable)(product_options_io.Product),variant_information:(0,dist.type)({option_title:(0,dist.nullable)((0,dist.string)()),short_description:(0,dist.nullable)((0,dist.string)()),image:(0,dist.nullable)((0,dist.string)()),color:(0,dist.nullable)((0,dist.string)()),variant_title:(0,dist.nullable)((0,dist.string)()),note:(0,dist.optional)((0,dist.string)()),size:(0,dist.optional)((0,dist.string)())})}))}),UpsellDrawer=props=>{var _upsellCollectionProducts_,_upsellCollectionImages_find,_upsellCollectionNotes_find,_selectedVariant_featured_image;const{addItems,upsellCollectionProducts,moneyFormat,cartProducts,upsellTitle,upsellCollectionImages,upsellCollectionNotes,upsellProducts,upsellProductsExtraData,buttonMode,rebuy_endpoint}=props,[shouldLoadRebuyItems,setShouldLoadRebuyItems]=(0,react.useState)(!!rebuy_endpoint),[validUpsellProducts,setValidUpsellProducts]=(0,react.useState)(shouldLoadRebuyItems?[]:upsellCollectionProducts),[upsellProduct,setUpsellProduct]=(0,react.useState)(upsellCollectionProducts[0]),[selectedVariant,setSelectedVariant]=(0,react.useState)((_upsellCollectionProducts_=upsellCollectionProducts[0])===null||_upsellCollectionProducts_===void 0?void 0:_upsellCollectionProducts_.variants[0]),smpCollectionTag=upsellProduct?.tags.find(tag=>tag.startsWith("pdp:"))||null,{data:smpProductData}=(0,useQuery.useQuery)({enabled:!!smpCollectionTag,queryKey:["get-cart-upsell-smp-data",smpCollectionTag],placeholderData:prev=>prev,queryFn:()=>(async smpCollectionHandle=>{if(!smpCollectionHandle)return null;const url=(0,shopify_root.atShopifyRoot)(`/collections/${smpCollectionHandle}`);return await(0,get_ajax_section.getAjaxSection)(url,{sections:"ajax-collection-smp-data"}).then(res=>{if(!res)return null;const data=res["ajax-collection-smp-data"];if(data){var _parsedState_querySelector;const rawData=(_parsedState_querySelector=new DOMParser().parseFromString(data,"text/html").querySelector(".shopify-section script"))===null||_parsedState_querySelector===void 0?void 0:_parsedState_querySelector.innerHTML,[error,contents]=SmpCollectionData.validate(JSON.parse(rawData||"{}"));return error?(console.error("Upsell drawer data can not be parsed",error.failures(),contents),null):contents}return null})})(smpCollectionTag&&smpCollectionTag.split(":")[1]||null)}),upsellProductImage=upsellProduct?(_upsellCollectionImages_find=upsellCollectionImages.find(upsellCollectionImage=>upsellCollectionImage.id===`${upsellProduct.id}`))===null||_upsellCollectionImages_find===void 0?void 0:_upsellCollectionImages_find.image:"",upsellProductNew=upsellProduct?upsellProducts.find(item=>item.product&&item.product.id===upsellProduct.id):null,upsellProductNote=upsellProduct?(_upsellCollectionNotes_find=upsellCollectionNotes.find(upsellCollectionNote=>upsellCollectionNote.id===`${upsellProduct.id}`))===null||_upsellCollectionNotes_find===void 0?void 0:_upsellCollectionNotes_find.note:"";(0,react.useEffect)(()=>{setSelectedVariant(upsellProduct?.variants.find(variant=>variant.available))},[upsellProduct]),(0,react.useEffect)(()=>{shouldLoadRebuyItems||setValidUpsellProducts(upsellCollectionProducts.filter(collectionProduct=>collectionProduct.available).filter(collectionProduct=>!cartProducts.find(cartProduct=>cartProduct.product_id===collectionProduct.id)))},[cartProducts,upsellCollectionProducts,shouldLoadRebuyItems]);const checkProductsAvailability=(0,react.useCallback)(products=>{const smpTagsInCart=upsellCollectionProducts.filter(product=>cartProducts.find(productInCart=>productInCart.product_id===product.id)&&product.tags.find(tag=>tag.startsWith("pdp:"))).map(product=>product.tags.find(tag=>tag.startsWith("pdp:"))).filter(guards.isPresent);return products.filter(product=>{const isItemAlreadyInCart=cartProducts.find(cartProduct=>cartProduct.product_id===product.id),hasAvaiableVariants=product.variants.some(variant=>variant.available),smpTag=product.tags.find(tag=>tag.startsWith("pdp:"));return(!smpTag||!smpTagsInCart.includes(smpTag))&&hasAvaiableVariants&&!isItemAlreadyInCart})||[]},[cartProducts,upsellCollectionProducts]);(0,react.useEffect)(()=>{shouldLoadRebuyItems&&rebuy_endpoint&&(async()=>{const validProductHandlesFromRebuy=await(async(url,product_ids_in_cart)=>{const rawRebuyDataSourceData=await fetch(url+`&shopify_product_ids=${product_ids_in_cart.join(",")}`).then(response=>response.json()).catch(()=>null);if(!rawRebuyDataSourceData)return[];const rebuyDatasourceData=RebuyDataSchema.parse(rawRebuyDataSourceData);return rebuyDatasourceData.data.length===0?[]:[...rebuyDatasourceData.data.map(product=>product.handle)]})(rebuy_endpoint,cartProducts.map(cartProduct=>cartProduct.product_id).filter(guards.isPresent));if(validProductHandlesFromRebuy.length===0)return;const validUpsellProductsBasedOnRebuy=validProductHandlesFromRebuy.map(validProductHandle=>upsellCollectionProducts.find(product=>product.handle===validProductHandle)||null).filter(guards.isPresent),availableProducts=checkProductsAvailability(validUpsellProductsBasedOnRebuy);availableProducts.length!==0?setValidUpsellProducts(availableProducts):setShouldLoadRebuyItems(!1)})()},[shouldLoadRebuyItems,rebuy_endpoint,cartProducts,upsellCollectionProducts,setShouldLoadRebuyItems,checkProductsAvailability]),(0,react.useEffect)(()=>{setUpsellProduct(validUpsellProducts[0]||void 0)},[validUpsellProducts]);const toggleUpsellContainer=(target,open)=>{const upsellContainer=target.closest(".CartDrawer-upsell-container");upsellContainer&&upsellContainer.classList.toggle("expanded",open)};let title=upsellProductNew&&upsellProductNew.upsell_title||upsellProduct&&upsellProduct.title||"";if(smpProductData){var _smpProductData_items_find;const selectedSmpProductVariantInformation=(_smpProductData_items_find=smpProductData.items.find(smpItem=>{var _smpItem_product;return((_smpItem_product=smpItem.product)===null||_smpItem_product===void 0?void 0:_smpItem_product.id)===upsellProduct?.id}))===null||_smpProductData_items_find===void 0?void 0:_smpProductData_items_find.variant_information;var _selectedSmpProductVariantInformation_variant_title;title=title.replace((_selectedSmpProductVariantInformation_variant_title=selectedSmpProductVariantInformation?.variant_title)!==null&&_selectedSmpProductVariantInformation_variant_title!==void 0?_selectedSmpProductVariantInformation_variant_title:"","")}var _upsellProduct_price,_selectedVariant_price;return upsellProduct?react.createElement("div",{className:"CartWhiteSection-inner upsell-inner"},upsellTitle!=null?react.createElement("div",{className:"Cart-upsell-title u-noMargin",dangerouslySetInnerHTML:{__html:upsellTitle}}):null,react.createElement("div",{className:"CartDrawer-upsell-container"},upsellTitle!=null?react.createElement("div",{className:"Cart-upsell-title u-noMargin",dangerouslySetInnerHTML:{__html:upsellTitle}}):null,react.createElement("p",{className:"CartItem-close",onClick:evt=>{evt.preventDefault();const target=evt.target;target instanceof HTMLElement&&toggleUpsellContainer(target,!1)},onKeyDown:evt=>{const target=evt.target;target instanceof HTMLElement&&evt.key==="Enter"&&toggleUpsellContainer(target,!1)},tabIndex:0,"aria-label":"hide learn more info"}),react.createElement("div",{className:"CartItem"},react.createElement("div",{className:"CartItem-section is-image"},react.createElement("div",{className:"CartItem-imagePlaceholder o-placeholder",style:{backgroundImage:upsellProduct.variants.length>1&&(!(selectedVariant==null||(_selectedVariant_featured_image=selectedVariant.featured_image)===null||_selectedVariant_featured_image===void 0)&&_selectedVariant_featured_image.src)?`url(${selectedVariant.featured_image.src})`:upsellProductImage?`url(${upsellProductImage})`:void 0}})),react.createElement("div",{className:"Upsell__info"},react.createElement("div",{className:"Upsell__info__content"},react.createElement("div",{className:"CartItem-title-container-inner"},react.createElement("p",{className:"CartItem-title"},title.toUpperCase()),upsellProduct.tags.indexOf("learn_more")>-1?react.createElement("p",{className:"CartItem-learnMore u-pSize__Small",onClick:evt=>{evt.preventDefault();const target=evt.target;target instanceof HTMLElement&&toggleUpsellContainer(target,!0)},onKeyDown:evt=>{const target=evt.target;target instanceof HTMLElement&&evt.key==="Enter"&&toggleUpsellContainer(target,!0)},"aria-label":"expand learn more info",tabIndex:0},"Learn more"):""),react.createElement("p",{className:"CartItem-subtitle u-pSize__Small",dangerouslySetInnerHTML:{__html:upsellProduct?.description}}),react.createElement("div",{className:"Upsell__info__selector"},function(){var _upsellProduct_variants_,_smpProductData_items_find2;const variantTitle=((_upsellProduct_variants_=upsellProduct.variants[0])===null||_upsellProduct_variants_===void 0?void 0:_upsellProduct_variants_.title)||"",selectedSmpProductVariantInformation=smpProductData&&((_smpProductData_items_find2=smpProductData.items.find(smpItem=>{var _smpItem_product;return((_smpItem_product=smpItem.product)===null||_smpItem_product===void 0?void 0:_smpItem_product.id)===upsellProduct.id}))===null||_smpProductData_items_find2===void 0?void 0:_smpProductData_items_find2.variant_information);return variantTitle.length>0&&variantTitle.indexOf("Default")>=0?react.createElement(react.Fragment,null,smpCollectionTag&&smpProductData&&selectedVariant?react.createElement(react.Fragment,null,react.createElement(Selector,{classes:["mod_cart_drawer__GO70W_Upsell__smp__wrapper"],selectedItemId:upsellProduct.id,setSelectedItemId:id=>{const newlySelectedSmpProduct=smpProductData.items.find(smpItem=>{var _smpItem_product;return((_smpItem_product=smpItem.product)===null||_smpItem_product===void 0?void 0:_smpItem_product.id)===id?smpItem:null});var _selectedSmpProductVariantInformation_variant_title2;newlySelectedSmpProduct&&newlySelectedSmpProduct.product&&(title=title.replace((_selectedSmpProductVariantInformation_variant_title2=selectedSmpProductVariantInformation?.variant_title)!==null&&_selectedSmpProductVariantInformation_variant_title2!==void 0?_selectedSmpProductVariantInformation_variant_title2:"",""),setUpsellProduct(newlySelectedSmpProduct.product))},customSelectorValue:selectedSmpProductVariantInformation?`
                              <span class="mod_cart_drawer__GO70W_Upsell__smp__selector">
                                ${selectedSmpProductVariantInformation.variant_title}
                              </span>
                            `:null,itemGroups:[{title:"SMP PRODUCTS",items:smpProductData.items.map(smpItem=>{const smpProduct=smpItem.product;if(!smpProduct||cartProducts.find(cartProduct=>cartProduct.product_id===smpProduct.id)||!smpProduct.variants.find(Boolean))return null;const smpVariantData=smpItem.variant_information;return smpProduct.available?{id:smpProduct.id,image:smpVariantData.image,color:smpVariantData.color,title:smpVariantData.variant_title||smpProduct.title,description:null}:null}).filter(guards.isPresent)}]})):""):selectedVariant?react.createElement(Selector,{selectedItemId:selectedVariant.id,setSelectedItemId:id=>{setSelectedVariant(upsellProduct.variants.find(variant=>variant.id===id))},customSelectorValue:`
                          <span aria-hidden="true" class="u-hideMd">
                            ${selectedVariant.option1}
                            ${selectedVariant.option2&&selectedVariant.option2!=="null"?`<br /> ${selectedVariant.option2}`:""}
                          </span>
                          <span class="u-showMd">${selectedVariant.title}</span>
                        `,itemGroups:upsellProduct.variants.some(variant=>variant.option2)?Array.from(new Set(upsellProduct.variants.map(variant=>variant.option1))).map(option=>({title:`${option} - ${(0,format_money.formatMoney)(upsellProduct.price,moneyFormat)}`,items:upsellProduct.variants.map(variantData=>{var _upsellProductsExtraData_find;const variantExtraData=(_upsellProductsExtraData_find=upsellProductsExtraData.find(upsellExtraData=>upsellExtraData.product_id===upsellProduct.id))===null||_upsellProductsExtraData_find===void 0?void 0:_upsellProductsExtraData_find.variants.find(currentVariantExtraData=>currentVariantExtraData.id===variantData.id);return variantExtraData&&variantData.available&&variantData.option1===option?{id:variantData.id,image:variantExtraData.swatch_image,color:variantExtraData.swatch_color,title:variantData.option2||variantData.title,description:null}:null}).filter(guards.isPresent)})):[{title:"",items:upsellProduct.variants.map(variantData=>{var _upsellProductsExtraData_find;const variantExtraData=(_upsellProductsExtraData_find=upsellProductsExtraData.find(upsellExtraData=>upsellExtraData.product_id===upsellProduct.id))===null||_upsellProductsExtraData_find===void 0?void 0:_upsellProductsExtraData_find.variants.find(currentVariantExtraData=>currentVariantExtraData.id===variantData.id);return variantExtraData&&variantData.available?{id:variantData.id,image:variantExtraData.swatch_image,color:variantExtraData.swatch_color,title:variantData.title,description:null}:null}).filter(guards.isPresent)}]}):null}())),react.createElement("div",{className:"CartItem-section is-price"},upsellProductNew&&upsellProductNew.redirect_to_product?react.createElement(components_button.Button,{element:"a",href:(0,shopify_root.atShopifyRoot)(`/products/${upsellProduct.handle}`),mode:buttonMode,title:upsellProduct.title,label:`${upsellProductNew.cta_label} ${(0,format_money.formatMoney)((_upsellProduct_price=upsellProduct?.price)!==null&&_upsellProduct_price!==void 0?_upsellProduct_price:0,moneyFormat)}`,modifiers:"Button__dark Button__filled"}):react.createElement(components_button.Button,{element:"button",mode:buttonMode,title:upsellProduct.title,label:`Add - ${(0,format_money.formatMoney)((_selectedVariant_price=selectedVariant?.price)!==null&&_selectedVariant_price!==void 0?_selectedVariant_price:0,moneyFormat)}`,modifiers:"Button__dark Button__filled",onClick:async evt=>{if(evt.preventDefault(),selectedVariant==null)return void console.error("Upsell variant is not found [efb6d5db115b4a87b8ca7c15d236c823]");const regularProperties=upsellProduct.variants.length<2?upsellProductNote?{"_featured-image":upsellProductImage,Note:upsellProductNote}:{"_featured-image":upsellProductImage}:{},rebuyAttributionProperties=shouldLoadRebuyItems?{_source:"Rebuy",_attribution:"Cart Drawer Upsell"}:{};await new Promise(function(resolve,reject){addItems({resolve,reject,input:{items:[{id:selectedVariant.id,quantity:1,properties:{...regularProperties,...rebuyAttributionProperties}}]}})}).then(itemsAddedToCart=>{if(!itemsAddedToCart)return;const addedProductTitles={productTitles:itemsAddedToCart.items.map(cartItem=>cartItem.product_title).join(", ")},addedProductsCheck=setInterval(function(){var _window_dataLayer;clearInterval(addedProductsCheck),(_window_dataLayer=window.dataLayer)===null||_window_dataLayer===void 0||_window_dataLayer.push(addedProductTitles,{event:"Add to cart"})},500);var _itemsAddedToCart_items_,_window_ttq,_itemsAddedToCart_items_1,_itemsAddedToCart_items_2;itemsAddedToCart&&window.fbq&&(window.fbq("track","AddToCart",{content_ids:itemsAddedToCart.items.map(function(item){return item.id}),content_name:((_itemsAddedToCart_items_=itemsAddedToCart.items[0])===null||_itemsAddedToCart_items_===void 0?void 0:_itemsAddedToCart_items_.title)||"Product",content_type:"product_group",contents:itemsAddedToCart.items.map(function({id,quantity}){return{id,quantity}}),currency:window.Shopify.currency.active,num_items:itemsAddedToCart.items.length,value:itemsAddedToCart.items.reduce(function(acc,item){return acc+item.final_line_price},0)/100}),!((_window_ttq=window.ttq)===null||_window_ttq===void 0)&&_window_ttq.track&&window.ttq.track("AddToCart",{contents:[{content_id:itemsAddedToCart.items.map(function(item){return item.id}),content_name:((_itemsAddedToCart_items_1=itemsAddedToCart.items[0])===null||_itemsAddedToCart_items_1===void 0?void 0:_itemsAddedToCart_items_1.title)||"Product",quantity:itemsAddedToCart.items.length,price:(((_itemsAddedToCart_items_2=itemsAddedToCart.items[0])===null||_itemsAddedToCart_items_2===void 0?void 0:_itemsAddedToCart_items_2.price)||100)/100}],content_type:"product",value:itemsAddedToCart.items.reduce(function(acc,item){return acc+item.final_line_price},0)/100,currency:"USD"}))})}})))))):null};var gift_wrap=__webpack_require__("77c8f636a2d630933468"),bundle_item=__webpack_require__("1c0567396fa71d5fd6ce"),schema_item=__webpack_require__("daeb208f3841495d477a"),page_components_button=__webpack_require__("23e95556235fef5f648f");const SelectableGWP=({freeGiftSettings,addItems,isGWPAvailable})=>{var _selectableGWPSettings_selectableGifts;const{selectableGWP:selectableGWPSettings}=freeGiftSettings,firstAvailableGift=(0,react.useMemo)(()=>{var _selectableGWPSettings_selectableGifts2;return selectableGWPSettings==null||(_selectableGWPSettings_selectableGifts2=selectableGWPSettings.selectableGifts)===null||_selectableGWPSettings_selectableGifts2===void 0?void 0:_selectableGWPSettings_selectableGifts2.find(gift=>gift.available)},[selectableGWPSettings]),[selectedGift,setSelectedGift]=(0,react.useState)(firstAvailableGift),[isExpanded,setIsExpanded]=(0,react.useState)(!1),handleATC=(0,react.useCallback)(async()=>{try{new Promise((resolve,reject)=>{selectedGift?.variant_id?isGWPAvailable?addItems({resolve,reject,input:{items:[{id:selectedGift.variant_id,quantity:1,properties:{_is_free_gwp:!0}}]}}):reject(new Error("GWP not available")):reject(new Error("No valid selected gift"))})}catch(error){console.error("Error adding GWP to cart",error)}},[addItems,selectedGift,isGWPAvailable]);return firstAvailableGift&&selectableGWPSettings?react.createElement("div",{className:"CartWhiteSection-inner upsell-inner"},react.createElement("div",{className:(0,clsx_m.default)("Cart-selectableGWP-collapsed",{isExpanded})},react.createElement("div",{className:"Cart-selectableGWP-title collapsed-title u-noMargin",dangerouslySetInnerHTML:{__html:selectableGWPSettings.header||""}}),react.createElement("div",{className:"Cart-selectableGWP-container"},react.createElement("div",{className:"CartItem Cart-selectableGWP-item"},react.createElement("div",{className:"CartItem-section is-image Cart-selectableGWP-image"},react.createElement("div",{className:"CartItem-imagePlaceholder o-placeholder",style:{backgroundImage:`url(${selectableGWPSettings.collapsed_image||selectedGift?.image})`}})),react.createElement("div",{className:"Cart-selectableGWP-info"},react.createElement("div",{className:"Cart-selectableGWP-info__content"},react.createElement("p",{className:"Cart-selectableGWP-product__title"},selectedGift?.title.toUpperCase().replace("FREE GIFT - ","").replace(" - YOUR GIFT","").trim()),react.createElement(Selector,{classes:["Cart-selectableGWP-selector"],selectedItemId:selectedGift?.id||0,setSelectedItemId:id=>{var _selectableGWPSettings_selectableGifts2;setSelectedGift(selectableGWPSettings==null||(_selectableGWPSettings_selectableGifts2=selectableGWPSettings.selectableGifts)===null||_selectableGWPSettings_selectableGifts2===void 0?void 0:_selectableGWPSettings_selectableGifts2.find(gift=>gift.id===id))},itemGroups:[{title:"SMP PRODUCTS",items:(selectableGWPSettings==null||(_selectableGWPSettings_selectableGifts=selectableGWPSettings.selectableGifts)===null||_selectableGWPSettings_selectableGifts===void 0?void 0:_selectableGWPSettings_selectableGifts.map(giftItem=>giftItem.available?{id:giftItem.id,image:giftItem.swatch_image,color:giftItem.swatch_color,title:giftItem.variant_title||"",description:null}:null).filter(guards.isPresent))||[]}]})),react.createElement("div",{className:"Cart-selectableGWP-buttons"},react.createElement(page_components_button.Button,{element:"button",mode:"default",title:`Add free ${selectedGift?.title} to cart`,label:"Add Gift",modifiers:"Button__dark Button__filled",onClick:()=>handleATC(),disabled:!isGWPAvailable}),react.createElement("button",{className:"Cart-selectableGWP-moreDetails",onClick:()=>setIsExpanded(!isExpanded),"aria-label":"Show more details"},"More Details")))))),react.createElement("div",{className:(0,clsx_m.default)("Cart-selectableGWP-expanded",{isExpanded})},react.createElement("div",{className:"Cart-selectableGWP-expanded-wrapper"},react.createElement("div",{className:"Cart-selectableGWP-expanded-header"},react.createElement("div",{className:"Cart-selectableGWP-title u-noMargin",dangerouslySetInnerHTML:{__html:selectableGWPSettings.header||""}}),react.createElement("button",{className:"Cart-selectableGWP-closeDetails",onClick:()=>setIsExpanded(!isExpanded),"aria-label":"Hide details"},react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none"},react.createElement("mask",{id:"mask0_2151_1383",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"33",height:"33"},react.createElement("rect",{width:"33",height:"33",fill:"#C4C4C4"})),react.createElement("g",{mask:"url(#mask0_2151_1383)"},react.createElement("path",{d:"M9.46021 8.72589L23.9795 23.2452",stroke:"#67645E",strokeWidth:"2"}),react.createElement("path",{d:"M9.46021 23.2457L23.9795 8.72647",stroke:"#67645E",strokeWidth:"2"}))))),react.createElement("div",{className:"Cart-selectableGWP-expanded-content"},react.createElement("img",{className:"Cart-selectableGWP-expanded-image",src:selectableGWPSettings.expanded_image||selectedGift?.image}),react.createElement("div",{className:"Cart-selectableGWP-expanded-text"},react.createElement("p",{className:"Cart-selectableGWP-expanded-title"},selectableGWPSettings.mini_header),react.createElement("div",{className:"Cart-selectableGWP-expanded-description",dangerouslySetInnerHTML:{__html:selectableGWPSettings.fine_print||""}})))))):null},app_locale={subtotal:"Subtotal",shippingAtCheckout:"*shipping, taxes, and discounts calculated at checkout.",checkout:"Checkout",itemCountZero:"Your cart is currently empty",itemCountPlural:"888 items",itemCountSingular:"1 item",qtyLabel:"Quantity",reduceQty:"Reduce quantity",increaseQty:"Increase quantity"},App=function(props){var _giftWrapSettings_gift_wrap_product;const{machine,cartTitle="",freeShippingThreshold="",freeShippingMessage="",freeShippingMessageBefore="",freeShippingUnlockedMessage,upsellCollectionProducts=[],upsellProducts,upsellCollectionImages=[],upsellCollectionNotes=[],upsellProductsExtraData,freeShippingSwitch=!0,freeGiftSettings,rebuy_endpoint,giftWrapSettings,isMobileCartPage=!1}=props,moneyFormat=props.moneyFormat||"{{ amount }}",{name,error,contents:cart,warning}=(0,use_machine_state.useMachineState)(machine),[extraCartData,setExtraCartData]=(0,react.useState)(null),[isGWPAvailable,setIsGWPAvailable]=(0,react.useState)(!1),[isLoading,setIsLoading]=(0,react.useState)(!1),[freeShippingLabel,setFreeShippingLabel]=(0,react.useState)(""),[hasRemovedFreeItemFromCart,setHasRemovedFreeItemFromCart]=(0,react.useState)(!1),parsedShippingThreshold=parseFloat(freeShippingThreshold||""),FREE_SHIPPING_THRESHOLD=Number.isNaN(parsedShippingThreshold)?null:parsedShippingThreshold;var _cart_total_price;const cartTotalPrice=(_cart_total_price=cart?.total_price)!==null&&_cart_total_price!==void 0?_cart_total_price:0;var _cart_items_some;const isGWPInCart=(0,react.useMemo)(()=>(_cart_items_some=cart?.items.some(item=>{var _item_properties;return(_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gwp}))!==null&&_cart_items_some!==void 0&&_cart_items_some,[cart]),isQtyReqReached=(0,react.useMemo)(()=>{const freeGiftRequisiteQuantity=freeGiftSettings?.free_gift_requisite_quantity;return!freeGiftRequisiteQuantity||(cart?.items.reduce((acc,prod)=>{var _prod_properties;return!((_prod_properties=prod.properties)===null||_prod_properties===void 0)&&_prod_properties._is_free_gwp?acc:acc+prod.quantity},0)||0)>=freeGiftRequisiteQuantity},[cart,freeGiftSettings]),isNonQtyProductInCart=(0,react.useMemo)(()=>{const freeGiftRequisiteProductNoQty=freeGiftSettings?.free_gift_requisite_product_no_qty;return!!freeGiftRequisiteProductNoQty&&cart?.items.some(product=>freeGiftRequisiteProductNoQty?.includes(product.product_id||0))},[cart,freeGiftSettings]),formattedMessage=(0,react.useMemo)(()=>error?error.message:warning?warning.split(".").join(".<br/>"):"",[error,warning]),itemsQty=cart?.items.reduce((acc,cartItem)=>{var _cartItem_properties;if(!((_cartItem_properties=cartItem.properties)===null||_cartItem_properties===void 0)&&_cartItem_properties._custom_bundle_uid){var _cartItem_properties1;const bundleSize=Number((_cartItem_properties1=cartItem.properties)===null||_cartItem_properties1===void 0?void 0:_cartItem_properties1._custom_bundle_size)||4;return acc+cartItem.quantity/bundleSize}return acc+cartItem.quantity},0).toFixed(0)||0,parsedCartItems=(0,react.useMemo)(()=>{try{if(!cart?.items)return[];const parsedItems=[],bundleGroups={};for(const item of cart.items){const bundleId=(0,helpers.getBundleId)(item);if(!bundleId){const itemExtraData=extraCartData?.items.find(extraCartDataItem=>extraCartDataItem.variant_id===item.variant_id);if(!itemExtraData)continue;const smpVariantTitle=itemExtraData.smp_variant_title;smpVariantTitle&&(item.smp_variant_title=smpVariantTitle),parsedItems.push(item);continue}const bundleData=(0,helpers.createBundleExtraData)(item);if(bundleId in bundleGroups){var _bundleGroups_bundleId;(_bundleGroups_bundleId=bundleGroups[bundleId])===null||_bundleGroups_bundleId===void 0||_bundleGroups_bundleId.push(bundleData)}else{bundleGroups[bundleId]=[bundleData];const bundleItem=(0,helpers.createBundleItem)(item,bundleId,bundleGroups[bundleId]);parsedItems.push(bundleItem)}}return parsedItems}catch(parseError){return console.error("Error parsing cart items:",parseError),cart?.items||[]}},[cart?.items,extraCartData?.items]),drawerTitle=cart==null?"Updating\u2026":cart.item_count===0?app_locale.itemCountZero:cart.item_count===1?app_locale.itemCountSingular:app_locale.itemCountPlural.replace("888",itemsQty.toString()||cart.item_count.toString(10));(0,react.useEffect)(()=>{name==="Ready"&&((()=>{const progressWrap=document.querySelector(".CartDrawer-progressWrap"),wrap=document.querySelector(".CartDrawer-progressBar");if(progressWrap instanceof HTMLElement&&wrap instanceof HTMLElement){const percent=FREE_SHIPPING_THRESHOLD!=null&&FREE_SHIPPING_THRESHOLD>0?cartTotalPrice/FREE_SHIPPING_THRESHOLD:0,progressWrapWidth=progressWrap.offsetWidth,progressTotal=percent>=100?progressWrap.offsetWidth:percent/100*progressWrapWidth;wrap.style.width=`${progressTotal}px`,wrap.animate({left:`${progressTotal}px`},2500)}})(),(()=>{const freeShippingDifference=FREE_SHIPPING_THRESHOLD!=null?100*FREE_SHIPPING_THRESHOLD-cartTotalPrice:null;setFreeShippingLabel(freeShippingDifference!=null&&freeShippingDifference<=0&&freeShippingSwitch?freeShippingUnlockedMessage||"Free standard shipping unlocked":`${freeShippingMessageBefore} ${(0,format_money.formatMoney)(freeShippingDifference??0,moneyFormat||"{{ amount }}")} ${freeShippingMessage}`)})())},[name,cart,FREE_SHIPPING_THRESHOLD,cartTotalPrice,freeShippingSwitch,freeShippingUnlockedMessage,freeShippingMessageBefore,moneyFormat,freeShippingMessage]),(0,react.useEffect)(()=>{var _freeGiftSettings_selectableGWP3;if(freeGiftSettings!=null&&!(!((_freeGiftSettings_selectableGWP3=freeGiftSettings.selectableGWP)===null||_freeGiftSettings_selectableGWP3===void 0)&&_freeGiftSettings_selectableGWP3.enabled)&&freeGiftSettings.is_free_gift_enabled&&hasRemovedFreeItemFromCart===!1){const freeItemInCart=cart?.items.find(item=>item.variant_id===freeGiftSettings.variant_id),requiredRequisiteQuantity=freeGiftSettings.free_gift_requisite_quantity||1e4,requisiteItemIgnoringQuantityInCart=cart?.items.find(item=>{var _ref;return(_ref=freeGiftSettings.free_gift_requisite_product_no_qty||[])===null||_ref===void 0?void 0:_ref.includes(item.product_id||0)}),requisiteItemQuantityInCart=cart?.items.reduce((acc,item)=>{var _ref;return!((_ref=freeGiftSettings.free_gift_requisite_products||[])===null||_ref===void 0)&&_ref.includes(item.product_id||0)?acc+item.quantity:acc},0)||0,isQualifiedForFreeGift=!!requisiteItemIgnoringQuantityInCart||requisiteItemQuantityInCart>=requiredRequisiteQuantity;freeItemInCart&&!isQualifiedForFreeGift&&freeGiftSettings.variant_id&&machine.removeItems({lineItemKeys:[freeItemInCart.key]}),!freeItemInCart&&isQualifiedForFreeGift&&new Promise((resolve,reject)=>{freeGiftSettings.variant_id!=null?machine.addItems({resolve,reject,input:{items:[{id:freeGiftSettings.variant_id,quantity:1,properties:{_free_gift:!0}}]}}):reject(new Error("Free gift variant ID is not set"))}).catch(err=>{console.error("Items cannot be added to cart",err)})}},[cart,freeGiftSettings,machine,hasRemovedFreeItemFromCart]),(0,react.useEffect)(()=>{(async()=>{var _window_Shopify,_window_Shopify_routes;const root=(window==null||(_window_Shopify=window.Shopify)===null||_window_Shopify===void 0||(_window_Shopify_routes=_window_Shopify.routes)===null||_window_Shopify_routes===void 0?void 0:_window_Shopify_routes.root)||"";(0,get_ajax_section.getAjaxSection)(`${window.location.origin}${root}`,{sections:"ajax-cart-data"}).then(res=>{const data=res["ajax-cart-data"];var _parsedState_querySelector;return data&&((_parsedState_querySelector=new DOMParser().parseFromString(data,"text/html").querySelector(".shopify-section #js-cart-data"))===null||_parsedState_querySelector===void 0?void 0:_parsedState_querySelector.innerHTML)||null}).then(res=>{if(res===null)return;const cartData=io.CartData.create(JSON.parse(res));setExtraCartData(cartData)})})()},[cart]),(0,react.useEffect)(()=>{const verifyFreeGiftAvailability=()=>{if(freeGiftSettings){const freeItemInCart=cart?.items.find(item=>item.variant_id===freeGiftSettings.variant_id);freeItemInCart&&(0,get_ajax_section.getAjaxSection)(`${window.location.origin}/products/${freeItemInCart.handle}`,{sections:"ajax-product-quantity"}).then(res=>{const data=res["ajax-product-quantity"];var _parsedState_querySelector;return data&&((_parsedState_querySelector=new DOMParser().parseFromString(data,"text/html").querySelector(".shopify-section #js-product-quantity"))===null||_parsedState_querySelector===void 0?void 0:_parsedState_querySelector.innerHTML)||null}).then(res=>{res!==null&&(io.CartQuantityData.create(JSON.parse(res)).available||(machine.removeItems({lineItemKeys:[freeItemInCart.key]}),setHasRemovedFreeItemFromCart(!0)))})}},interval=setInterval(()=>{verifyFreeGiftAvailability()},5e3);return verifyFreeGiftAvailability(),()=>clearInterval(interval)},[cart,freeGiftSettings,machine,hasRemovedFreeItemFromCart]),(0,react.useEffect)(()=>{helpers.DUPLICATE_ITEM_REPLACEMENT_DATA.forEach(({baseItemId,duplicateItemId})=>{const duplicateItemsInCart=cart?.items.filter(({variant_id})=>variant_id===duplicateItemId);duplicateItemsInCart?.forEach(({key,quantity,properties})=>{fetch("/cart/change.js",{headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:0,id:key}),method:"POST"}).then(()=>new Promise((resolve,reject)=>{machine.addItems({resolve,reject,input:{items:[{id:baseItemId,quantity,properties:{...properties}}]}})})).catch(err=>{console.error("Items cannot be added to cart",err)})})})},[cart,machine]),(0,react.useEffect)(()=>{(()=>{if(!cart)return;const itemsWithFeaturedImageProperty=cart.items.filter(item=>{var _item_properties;return!(!((_item_properties=item.properties)===null||_item_properties===void 0)&&_item_properties._custom_bundle_uid)&&(0,helpers.parseLineItemProperties)(item.properties).find(([key,value])=>key==="_featured-image"&&!!value)}),updates=[];itemsWithFeaturedImageProperty.forEach(item=>{const sameItemsWithoutFeaturedImage=cart.items.filter(cartItem=>{var _validItemProperties_find;const validItemFeaturedImage=(_validItemProperties_find=(0,helpers.parseLineItemProperties)(cartItem.properties).find(([key])=>key==="_featured-image"))===null||_validItemProperties_find===void 0?void 0:_validItemProperties_find[1],itemProperties=(0,helpers.parseLineItemProperties)(cartItem.properties);return cartItem.variant_id===item.variant_id&&!itemProperties.find(([key,value])=>key==="_featured-image"&&value===validItemFeaturedImage)});sameItemsWithoutFeaturedImage.length>0&&sameItemsWithoutFeaturedImage.forEach(itemToUpdate=>{updates.push({id:itemToUpdate.key,quantity:itemToUpdate.quantity,properties:{...itemToUpdate.properties,...item.properties}})})}),updates.length>0&&machine.changeProperties({items:updates})})()},[cart,machine]),(0,react.useEffect)(()=>{(()=>{if(!cart)return;const itemsWithNoteProperty=cart.items.filter(item=>{var _item_properties;const itemProperties=(0,helpers.parseLineItemProperties)(item.properties);return!(!((_item_properties=item.properties)===null||_item_properties===void 0)&&_item_properties._custom_bundle_uid)&&itemProperties.find(([key])=>key==="Note")}),updates=[];itemsWithNoteProperty.forEach(item=>{const sameItemsWithoutNotes=cart.items.filter(cartItem=>{const itemProperties=(0,helpers.parseLineItemProperties)(cartItem.properties);return cartItem.variant_id===item.variant_id&&!itemProperties.find(([key])=>key==="Note")});sameItemsWithoutNotes.length>0&&sameItemsWithoutNotes.forEach(itemToUpdate=>{updates.push({id:itemToUpdate.key,quantity:itemToUpdate.quantity,properties:{...itemToUpdate.properties,...item.properties}})})}),updates.length>0&&machine.changeProperties({items:updates})})()},[cart,machine]);const getQtyLimit=(0,react.useCallback)(variantId=>{var _extraCartData_items_find,_extraCartData_items_find1;const variantQtyLimit=(_extraCartData_items_find=extraCartData?.items.find(item=>item.variant_id===variantId))===null||_extraCartData_items_find===void 0?void 0:_extraCartData_items_find.variant_quantity_limit;return variantQtyLimit&&variantQtyLimit>0?variantQtyLimit:((_extraCartData_items_find1=extraCartData?.items.find(item=>item.variant_id===variantId))===null||_extraCartData_items_find1===void 0?void 0:_extraCartData_items_find1.quantity_limit)||10},[extraCartData]);(0,react.useEffect)(()=>{var _cart_items_find;if(!isGWPInCart||isQtyReqReached||isNonQtyProductInCart)return;const gwpLineItemKey=(_cart_items_find=cart?.items.find(product=>{var _product_properties;return(_product_properties=product.properties)===null||_product_properties===void 0?void 0:_product_properties._is_free_gwp}))===null||_cart_items_find===void 0?void 0:_cart_items_find.key;gwpLineItemKey&&machine.removeItems({lineItemKeys:[gwpLineItemKey]})},[cart?.items,machine,isGWPInCart,isQtyReqReached,isNonQtyProductInCart]),(0,react.useEffect)(()=>{if(isGWPInCart)return void setIsGWPAvailable(!1);var _ref;const requirementsMet=(_ref=isQtyReqReached||isNonQtyProductInCart)!==null&&_ref!==void 0&&_ref;setIsGWPAvailable(requirementsMet)},[isGWPInCart,isQtyReqReached,isNonQtyProductInCart]);const closeButtonRef=react.useRef(null);return react.createElement("div",{className:"CartDrawer"},react.createElement("div",{className:"CartDrawer-container"},react.createElement("button",{className:"visually-hidden",tabIndex:0,"aria-hidden":"true",onFocus:()=>{var _closeButtonRef_current;return(_closeButtonRef_current=closeButtonRef.current)===null||_closeButtonRef_current===void 0?void 0:_closeButtonRef_current.focus()}}),react.createElement("button",{className:"js-drawer-close CartDrawer-close","aria-label":"Close cart drawer",tabIndex:0,ref:closeButtonRef}),react.createElement("p",{className:"CartDrawer-titleLink u-noMargin"},drawerTitle),freeShippingSwitch&&react.createElement(react.Fragment,null,react.createElement("span",{className:"CartDrawer-shippingLabel u-hideMd__flex u-noMargin",dangerouslySetInnerHTML:{__html:freeShippingLabel}}),react.createElement("p",{className:"u-noMargin"},react.createElement("div",{className:"CartDrawer-progressWrap progress"},react.createElement("div",{className:"CartDrawer-progressBar progress"})),react.createElement("span",{className:"CartDrawer-shippingLabel u-showMd__flex",dangerouslySetInnerHTML:{__html:freeShippingLabel}})))),hasRemovedFreeItemFromCart&&react.createElement("p",{className:"CartDrawer-freeItemRemovedMessage"},freeGiftSettings?.free_gift_removed_from_cart_message),react.createElement("ul",{className:"CartDrawer-items"},(parsedCartItems??[]).map(item=>{var _extraCartData_items_find,_giftWrapSettings_gift_wrap_product2;const isCustomBundle=(0,dist.is)(item,schema_item.BundleItem),bundleItemQtylimit=getQtyLimit(item.variant_id);var _item_properties,_giftWrapSettings_gift_wrap_drawer_drawer_text,_giftWrapSettings_enable_free_product;return isCustomBundle?react.createElement("li",{key:item.key,className:"CartDrawer-item"},react.createElement(bundle_item.BundleDrawerItem,{item,items:cart?.items||[],moneyFormat,changeQuantity:payload=>{setIsLoading(!0),machine.changeQuantity(payload),(()=>{const isAddingItemsInterval=setInterval(()=>{if(machine.isAddItemsAllowed())return setIsLoading(!1),void clearInterval(isAddingItemsInterval)},500)})()},isLoading,cartLimitNo:Number((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._custom_bundle_limit_qty)||5,bundleItemQtylimit})):helpers.DUPLICATE_ITEM_REPLACEMENT_DATA.find(({duplicateItemId})=>item.variant_id===duplicateItemId)?react.createElement("li",{key:item.key}):react.createElement("li",{key:item.key,className:"CartDrawer-item"},react.createElement(CartDrawerItem,{item,items:cart?.items||[],moneyFormat,cartMaxVariantsLimit:(_extraCartData_items_find=extraCartData?.items.find(itemExtraData=>itemExtraData.variant_id===item.variant_id))===null||_extraCartData_items_find===void 0?void 0:_extraCartData_items_find.max_variants_limit,isGiftBag:item.product_id===(giftWrapSettings==null||(_giftWrapSettings_gift_wrap_product2=giftWrapSettings.gift_wrap_product)===null||_giftWrapSettings_gift_wrap_product2===void 0?void 0:_giftWrapSettings_gift_wrap_product2.product_id),giftBagDescription:(_giftWrapSettings_gift_wrap_drawer_drawer_text=giftWrapSettings?.gift_wrap_drawer.drawer_text)!==null&&_giftWrapSettings_gift_wrap_drawer_drawer_text!==void 0?_giftWrapSettings_gift_wrap_drawer_drawer_text:"",isFreeGiftBagEnabled:(_giftWrapSettings_enable_free_product=giftWrapSettings?.enable_free_product)!==null&&_giftWrapSettings_enable_free_product!==void 0&&_giftWrapSettings_enable_free_product,changeQuantity:payload=>{machine.changeQuantity(payload)},cartLimitNo:getQtyLimit(item.variant_id)}))})),react.createElement("div",{className:"CartWhiteSection"},freeGiftSettings?.is_free_gift_enabled&&(!(freeGiftSettings==null||(_freeGiftSettings_selectableGWP=freeGiftSettings.selectableGWP)===null||_freeGiftSettings_selectableGWP===void 0)&&_freeGiftSettings_selectableGWP.enabled)&&(!(freeGiftSettings==null||(_freeGiftSettings_selectableGWP1=freeGiftSettings.selectableGWP)===null||_freeGiftSettings_selectableGWP1===void 0)&&_freeGiftSettings_selectableGWP1.hideUpsell)&&isGWPInCart?null:!(freeGiftSettings==null||(_freeGiftSettings_selectableGWP2=freeGiftSettings.selectableGWP)===null||_freeGiftSettings_selectableGWP2===void 0)&&_freeGiftSettings_selectableGWP2.enabled&&!isGWPInCart?react.createElement(SelectableGWP,{freeGiftSettings,isGWPAvailable,addItems:machine.addItems}):!(freeGiftSettings==null||(_freeGiftSettings_promotion=freeGiftSettings.promotion)===null||_freeGiftSettings_promotion===void 0)&&_freeGiftSettings_promotion.enabled?react.createElement(GWPPromotion,{sectionTitle:freeGiftSettings.promotion.section_title||null,title:freeGiftSettings.promotion.title||null,image:freeGiftSettings.promotion.image||null,description:freeGiftSettings.promotion.description||null,ctaLabel:freeGiftSettings.promotion.cta_label||null}):react.createElement(UpsellDrawer,{upsellTitle:cartTitle,addItems:machine.addItems,cartProducts:cart?.items||[],moneyFormat,upsellProducts,upsellCollectionProducts,upsellCollectionImages,upsellCollectionNotes,upsellProductsExtraData,rebuy_endpoint,buttonMode:props.buttonMode}),react.createElement("div",{className:"CartDrawer-summary"},react.createElement("div",{className:"CartDrawer-subtotalContainer"},react.createElement("div",{className:"CartDrawer-subtotalLabel",dangerouslySetInnerHTML:{__html:app_locale.subtotal}}),react.createElement("div",{className:"CartDrawer-subtotal"},(0,format_money.formatMoney)(cart?.total_price||0,moneyFormat))),react.createElement("p",{className:"CartDrawer-shippingAtCheckout"},app_locale.shippingAtCheckout),giftWrapSettings&&giftWrapSettings.enabled&&(!((_giftWrapSettings_gift_wrap_product=giftWrapSettings.gift_wrap_product)===null||_giftWrapSettings_gift_wrap_product===void 0)&&_giftWrapSettings_gift_wrap_product.product_id)?react.createElement(gift_wrap.GiftWrap,{extraCartData,cartItems:cart?.items||[],giftWrapSettings,moneyFormat,machine,totalCartPrice:cart?.total_price||0,isMobileCartPage}):null,react.createElement("div",{className:"CartDrawer-buttonWrapper"},react.createElement(components_button.Button,{element:"a",mode:props.buttonMode,modifiers:"Button__dark Button__filled Button__fullWidth Button__large",label:app_locale.checkout,href:"/checkout"}),react.createElement("button",{className:"visually-hidden",tabIndex:0,"aria-hidden":"true",onFocus:()=>{var _closeButtonRef_current;return(_closeButtonRef_current=closeButtonRef.current)===null||_closeButtonRef_current===void 0?void 0:_closeButtonRef_current.focus()}})),react.createElement("div",{className:"CartDrawer-error",dangerouslySetInnerHTML:{__html:formattedMessage}}))));var _freeGiftSettings_selectableGWP,_freeGiftSettings_selectableGWP1,_freeGiftSettings_selectableGWP2,_freeGiftSettings_promotion}},"1c0567396fa71d5fd6ce":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BundleDrawerItem:()=>BundleDrawerItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9811ef06b956fcd727d6"),_io__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3c8c614229a55376da64"),_core_shopify_format_money__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("71c1c01bc06c47144711"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("0bec4b8beb117f5ab05d");const BundleDrawerItem=function({item,items,moneyFormat,cartLimitNo,bundleItemQtylimit,isLoading,changeQuantity}){var _item_properties,_item_bundle_items_find,_item_properties1,_item_bundle_title;const[itemsExpanded,setItemsExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),itemsList=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),bundleQuantity=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>item.bundle_items.reduce((acc,bundleItem)=>acc>bundleItem.product_qty?acc:bundleItem.product_qty,0),[item.bundle_items]),totalPrice=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>item.bundle_items.reduce((acc,bundleItem)=>acc+bundleItem.product_price,0)*bundleQuantity,[item.bundle_items,bundleQuantity]),[quantityErrorVisible,setQuantityErrorVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("empty");if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{setTimeout(()=>{setQuantityErrorVisible("empty")},4e3)},[quantityErrorVisible]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(()=>{itemsExpanded&&setTimeout(()=>{const cartList=document.querySelector("ul.CartDrawer-items");if(cartList&&itemsList.current){const cartListRect=cartList.getBoundingClientRect(),itemsListRect=itemsList.current.getBoundingClientRect();if(itemsListRect.bottom<cartListRect.bottom)return;const scrollBy=itemsListRect.bottom-cartListRect.bottom;cartList.scrollBy({top:scrollBy,behavior:"smooth"})}},300)},[itemsExpanded,itemsList]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const quantityError=localStorage.getItem("internal_quantity_error");if(!quantityError)return;const currentItemInQuantityErrorPayload=_io__WEBPACK_IMPORTED_MODULE_1__.InternalQuantityErrorPayload.create(JSON.parse(quantityError)).item_payload.find(quantityErrorItem=>quantityErrorItem.id===item.variant_id);currentItemInQuantityErrorPayload&&currentItemInQuantityErrorPayload.quantity+bundleQuantity>4&&(setQuantityErrorVisible("bundle"),setTimeout(()=>{localStorage.setItem("internal_quantity_error","")},500))},[item,bundleQuantity]),item.bundle_title==null)return null;const getBundleItemsLines=()=>items.filter(cartItem=>{var _cartItem_properties;return((_cartItem_properties=cartItem.properties)===null||_cartItem_properties===void 0?void 0:_cartItem_properties._custom_bundle_uid)===item.bundle_uid}),itemImage=item.bundle_image,variantSingleImage=(_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._featured_variant_image,bundleSingleImage=((_item_bundle_items_find=item.bundle_items.find(bundleItem=>bundleItem.product_bundle_image&&bundleItem.product_bundle_image!==""))===null||_item_bundle_items_find===void 0?void 0:_item_bundle_items_find.product_bundle_image)||"",allVariantsHaveImages=item.bundle_items.every(bundleItem=>bundleItem.product_variant_image&&bundleItem.product_variant_image!==""),reduceQtyIcon=react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M16 10c0 .553-.048 1-.601 1H4.601C4.049 11 4 10.553 4 10c0-.553.049-1 .601-1H15.4c.552 0 .6.447.6 1z"})),increaseQtyIcon=react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M16 10c0 .553-.048 1-.601 1H11v4.399c0 .552-.447.601-1 .601-.553 0-1-.049-1-.601V11H4.601C4.049 11 4 10.553 4 10c0-.553.049-1 .601-1H9V4.601C9 4.048 9.447 4 10 4c.553 0 1 .048 1 .601V9h4.399c.553 0 .601.447.601 1z"}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem CartItem-customBundle"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-section is-image"},variantSingleImage&&allVariantsHaveImages?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-variantGrid","data-bundle-size":(_item_properties1=item.properties)===null||_item_properties1===void 0?void 0:_item_properties1._custom_bundle_size},item.bundle_items.map((bundleItem,index)=>{var _bundleItem_product_title;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:"CartItem-variantImage",key:bundleItem.product_id+index,src:bundleItem.product_variant_image||"",alt:bundleItem.product_variant_image?`image of ${(_bundleItem_product_title=bundleItem.product_title)===null||_bundleItem_product_title===void 0?void 0:_bundleItem_product_title.toLocaleUpperCase()}`:""}))})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-imageLink"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-imagePlaceholder o-placeholder",style:{backgroundImage:bundleSingleImage&&bundleSingleImage!=="undefined"?`url(${bundleSingleImage})`:itemImage?`url(${itemImage})`:void 0},"aria-label":bundleSingleImage||itemImage?`image of ${(_item_bundle_title=item.bundle_title)===null||_item_bundle_title===void 0?void 0:_item_bundle_title.toLocaleUpperCase()}`:"",tabIndex:bundleSingleImage||itemImage?0:-1,"aria-hidden":bundleSingleImage||itemImage?"false":"true"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-section is-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-title-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"CartItem-title",href:(url=>{const currentURL=window.location.href,locales=["en-gb","en-ca","en-fr","en-de","en-it","en-ie","en-es","en-nl","en-fi","en-at","en-gr","en-pl","en-se","en-dk"],currentLocale=locales.filter(localeURL=>currentURL.includes(localeURL)),isUrlAlreadyLocalized=locales.some(localeURL=>url.includes(localeURL));return!currentLocale.length||isUrlAlreadyLocalized?url:url.replace("/products",`/${currentLocale[0]}/products`)})(item.bundle_url)},item.bundle_title.toLocaleUpperCase()),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-section is-price"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-price",dangerouslySetInnerHTML:{__html:(0,_core_shopify_format_money__WEBPACK_IMPORTED_MODULE_2__.formatMoney)(totalPrice,moneyFormat)}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-section is-qty CartItem-customBundle-qtyRow"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CartItem-customBundle-qtyCol"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"o-qtyControls"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"js-cart-drawer-qty o-qtyControls-button",type:"button","data-action":"minus",disabled:isLoading,onClick:evt=>{evt.preventDefault(),setQuantityErrorVisible("empty");const payload={items:getBundleItemsLines().map(cartItem=>({lineItemKey:cartItem.key,quantity:cartItem.quantity-1}))};changeQuantity(payload)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"u-vhide"},"Reduce quantity"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"o-placeholder"},reduceQtyIcon)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"o-qtyControls-indicator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"u-vhide"},"Quantity"),bundleQuantity),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"js-cart-drawer-qty o-qtyControls-button",type:"button","data-action":"plus",disabled:isLoading,onClick:evt=>{evt.preventDefault();const bundleItems=getBundleItemsLines();if((bundleItems2=>{const itemAmountInCart={},itemAmountToIncrease={};return bundleItems2.forEach(({variant_id})=>{const variantId=variant_id.toString();itemAmountToIncrease[variantId]=(itemAmountToIncrease[variantId]||0)+1}),Object.keys(itemAmountToIncrease).forEach(variantId=>{itemAmountInCart[variantId]=items.filter(({variant_id})=>variant_id.toString()===variantId).reduce((acc,{quantity})=>acc+quantity,0)}),Object.keys(itemAmountToIncrease).some(variantId=>(itemAmountInCart[variantId]||0)+(itemAmountToIncrease[variantId]||0)>bundleItemQtylimit)})(bundleItems))setQuantityErrorVisible("item");else if(bundleQuantity+1>cartLimitNo)setQuantityErrorVisible("bundle");else{const payload={items:bundleItems.map(cartItem=>({lineItemKey:cartItem.key,quantity:cartItem.quantity+1}))};changeQuantity(payload)}}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"u-vhide"},"Increase quantity"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"o-placeholder"},increaseQtyIcon))),quantityErrorVisible!=="empty"&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"CartItem-error-message u-noMargin u-pSize__Small"},quantityErrorVisible==="item"?`Limit of ${bundleItemQtylimit} per shade`:`Limit of ${cartLimitNo} bundles per customer`)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.default)("CartItem-customBundle-detailsTrigger"),"aria-label":itemsExpanded?"Hide bundle items":"Show bundle items","aria-controls":"bundle-items",onClick:()=>{setItemsExpanded(!itemsExpanded)}},itemsExpanded?"hide details":"view details"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{id:"bundle-items",ref:itemsList,"aria-expanded":itemsExpanded,className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.default)("CartItem-customBundle-details",{expanded:itemsExpanded})},item.bundle_items.map((bundleItem,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:bundleItem.product_id+index,className:"CartItem-customBundle-detailsItem"},bundleItem.product_title))))}},d3369cc3fc506657d34e:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Button:()=>Button});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9811ef06b956fcd727d6");const Button=({label,title,onClick,href,element,modifiers,backgroundColor,disabled,mode})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"Button-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(element,{className:`Button u-pSize ${modifiers}`,"data-mode":mode||"","data-product-title":title,onClick:e=>onClick?onClick(e):null,href,style:{backgroundColor:backgroundColor||"","--base-color":backgroundColor||""},disabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,label,[1,2,3,4].map(index=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{key:index,"data-index":index,className:"Button-hover-helper"})),mode==="wave"?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"1",className:"Button-background-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 519.75 900 81.25"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 524L10 529.8C20 535.7 40 547.3 60 548.8C80 550.3 100 541.7 120 538C140 534.3 160 535.7 180 531.8C200 528 220 519 240 519.8C260 520.7 280 531.3 300 539.3C320 547.3 340 552.7 360 556.2C380 559.7 400 561.3 420 559.3C440 557.3 460 551.7 480 552.2C500 552.7 520 559.3 540 557C560 554.7 580 543.3 600 537.5C620 531.7 640 531.3 660 531.3C680 531.3 700 531.7 720 530.7C740 529.7 760 527.3 780 530.8C800 534.3 820 543.7 840 549C860 554.3 880 555.7 890 556.3L900 557L900 601L890 601C880 601 860 601 840 601C820 601 800 601 780 601C760 601 740 601 720 601C700 601 680 601 660 601C640 601 620 601 600 601C580 601 560 601 540 601C520 601 500 601 480 601C460 601 440 601 420 601C400 601 380 601 360 601C340 601 320 601 300 601C280 601 260 601 240 601C220 601 200 601 180 601C160 601 140 601 120 601C100 601 80 601 60 601C40 601 20 601 10 601L0 601Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"2",className:"Button-background-content",style:{height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.26 600"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M113 0L104.5 6.7C96 13.3 79 26.7 76.7 40C74.3 53.3 86.7 66.7 91.8 80C97 93.3 95 106.7 100.8 120C106.7 133.3 120.3 146.7 119.2 160C118 173.3 102 186.7 90 200C78 213.3 70 226.7 65 240C60 253.3 58 266.7 61.2 280C64.3 293.3 72.7 306.7 71.7 320C70.7 333.3 60.3 346.7 63.7 360C67 373.3 84 386.7 92.7 400C101.3 413.3 101.7 426.7 101.8 440C102 453.3 102 466.7 103.7 480C105.3 493.3 108.7 506.7 103.2 520C97.7 533.3 83.3 546.7 75.3 560C67.3 573.3 65.7 586.7 64.8 593.3L64 600L0 600L0 593.3C0 586.7 0 573.3 0 560C0 546.7 0 533.3 0 520C0 506.7 0 493.3 0 480C0 466.7 0 453.3 0 440C0 426.7 0 413.3 0 400C0 386.7 0 373.3 0 360C0 346.7 0 333.3 0 320C0 306.7 0 293.3 0 280C0 266.7 0 253.3 0 240C0 226.7 0 213.3 0 200C0 186.7 0 173.3 0 160C0 146.7 0 133.3 0 120C0 106.7 0 93.3 0 80C0 66.7 0 53.3 0 40C0 26.7 0 13.3 0 6.7L0 0Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"3",className:"Button-background-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 519.75 900 81.25"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 524L10 529.8C20 535.7 40 547.3 60 548.8C80 550.3 100 541.7 120 538C140 534.3 160 535.7 180 531.8C200 528 220 519 240 519.8C260 520.7 280 531.3 300 539.3C320 547.3 340 552.7 360 556.2C380 559.7 400 561.3 420 559.3C440 557.3 460 551.7 480 552.2C500 552.7 520 559.3 540 557C560 554.7 580 543.3 600 537.5C620 531.7 640 531.3 660 531.3C680 531.3 700 531.7 720 530.7C740 529.7 760 527.3 780 530.8C800 534.3 820 543.7 840 549C860 554.3 880 555.7 890 556.3L900 557L900 601L890 601C880 601 860 601 840 601C820 601 800 601 780 601C760 601 740 601 720 601C700 601 680 601 660 601C640 601 620 601 600 601C580 601 560 601 540 601C520 601 500 601 480 601C460 601 440 601 420 601C400 601 380 601 360 601C340 601 320 601 300 601C280 601 260 601 240 601C220 601 200 601 180 601C160 601 140 601 120 601C100 601 80 601 60 601C40 601 20 601 10 601L0 601Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-index":"4",className:"Button-background-content",style:{height:"300px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.26 600"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M113 0L104.5 6.7C96 13.3 79 26.7 76.7 40C74.3 53.3 86.7 66.7 91.8 80C97 93.3 95 106.7 100.8 120C106.7 133.3 120.3 146.7 119.2 160C118 173.3 102 186.7 90 200C78 213.3 70 226.7 65 240C60 253.3 58 266.7 61.2 280C64.3 293.3 72.7 306.7 71.7 320C70.7 333.3 60.3 346.7 63.7 360C67 373.3 84 386.7 92.7 400C101.3 413.3 101.7 426.7 101.8 440C102 453.3 102 466.7 103.7 480C105.3 493.3 108.7 506.7 103.2 520C97.7 533.3 83.3 546.7 75.3 560C67.3 573.3 65.7 586.7 64.8 593.3L64 600L0 600L0 593.3C0 586.7 0 573.3 0 560C0 546.7 0 533.3 0 520C0 506.7 0 493.3 0 480C0 466.7 0 453.3 0 440C0 426.7 0 413.3 0 400C0 386.7 0 373.3 0 360C0 346.7 0 333.3 0 320C0 306.7 0 293.3 0 280C0 266.7 0 253.3 0 240C0 226.7 0 213.3 0 200C0 186.7 0 173.3 0 160C0 146.7 0 133.3 0 120C0 106.7 0 93.3 0 80C0 66.7 0 53.3 0 40C0 26.7 0 13.3 0 6.7L0 0Z",fill:"#0066FF",strokeLinecap:"round",strokeLinejoin:"miter"})))):[1,2,3,4].map(index=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{key:index,"data-index":index,"data-mode":mode||"",className:"Button-hover-content","aria-hidden":"true"},label)))))},"77c8f636a2d630933468":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GiftWrap:()=>GiftWrap});var react=__webpack_require__("9811ef06b956fcd727d6"),components_button=__webpack_require__("d3369cc3fc506657d34e"),clsx_m=__webpack_require__("0bec4b8beb117f5ab05d"),format_money=__webpack_require__("71c1c01bc06c47144711");const GiftWrapItem=props=>{const{variants,option,isSelected,handleSelectedSwatch,moneyFormat,recommended,isFreeGiftBag}=props,firstAvailableVariant=variants.find(variant=>variant.available);var _variants_;const defaultVariant=(_variants_=variants[0])!==null&&_variants_!==void 0?_variants_:null,[selectedVariant,setSelectedVariant]=(0,react.useState)(firstAvailableVariant??defaultVariant);return(0,react.useCallback)(()=>{selectedVariant&&recommended&&isSelected&&handleSelectedSwatch(option,selectedVariant.id)},[selectedVariant,recommended,option,handleSelectedSwatch,isSelected])(),variants.length&&defaultVariant?react.createElement("div",{role:"button",tabIndex:0,onClick:()=>{setSelectedVariant(firstAvailableVariant??null),handleSelectedSwatch(option,firstAvailableVariant?.id||0)},onKeyDown:e=>{e.key==="Enter"&&(setSelectedVariant(firstAvailableVariant??null),handleSelectedSwatch(option,firstAvailableVariant?.id||0))},className:(0,clsx_m.default)("CartGiftWrap-variant",isSelected&&"CartGiftWrap-variant_selected"),"aria-label":"Select "+option+" gift wrap"},react.createElement("img",{className:"CartGiftWrap-variantImage",src:selectedVariant?.image,alt:"Image of "+selectedVariant?.title}),react.createElement("div",{className:"CartGiftWrap-variantContent"},recommended&&react.createElement("span",{className:"CartGiftWrap-recommended",role:"status","aria-label":"Recommended"},"Recommended"),react.createElement("div",{className:"CartGiftWrap-variantHeader"},react.createElement("span",{className:"CartGiftWrap-variantTitle"},option),react.createElement("span",{className:"CartGiftWrap-variantPrice"},isFreeGiftBag?"FREE":(0,format_money.formatMoney)(selectedVariant?.price||0,moneyFormat))),react.createElement("div",{className:"CartGiftWrap-variantDescription",dangerouslySetInnerHTML:{__html:selectedVariant?.description||defaultVariant.description||""}}),react.createElement("div",{className:"CartGiftWrap-swatches"},variants.map(variant=>react.createElement("button",{key:variant.id,onClick:e=>{e.preventDefault(),e.stopPropagation(),setSelectedVariant(variant),handleSelectedSwatch(option,variant.id)},type:"button","aria-label":"Select "+variant.options[1]+" color",className:(0,clsx_m.default)("CartGiftWrap-swatch",selectedVariant?.id===variant.id&&isSelected&&"CartGiftWrap-swatch_selected",!variant.available&&"CartGiftWrap-swatch_oos")},react.createElement("div",{className:"swatch-background",style:{backgroundColor:variant.swatch_color,backgroundImage:variant.swatch_image||"none"}})))))):null},GiftWrapListing=props=>{const{giftWrapProduct,moneyFormat,handleChangeVariant,cartSize,sizeThreshold,isFreeGiftBag}=props,[selectedOption,setSelectedOption]=(0,react.useState)("");var _giftWrapProduct_options_with_values__values;const variantOptions=(0,react.useMemo)(()=>{var _giftWrapProduct_options_with_values,_giftWrapProduct_options_with_values_;return(_giftWrapProduct_options_with_values__values=(_giftWrapProduct_options_with_values=giftWrapProduct.options_with_values)===null||_giftWrapProduct_options_with_values===void 0||(_giftWrapProduct_options_with_values_=_giftWrapProduct_options_with_values[0])===null||_giftWrapProduct_options_with_values_===void 0?void 0:_giftWrapProduct_options_with_values_.values)!==null&&_giftWrapProduct_options_with_values__values!==void 0?_giftWrapProduct_options_with_values__values:[]},[giftWrapProduct]),smallOption=variantOptions[0]||"small bag",largeOption=variantOptions[1]||"large bag",variants=giftWrapProduct.variants,[recommendedVariant,setRecommendedVariant]=(0,react.useState)(smallOption);(0,react.useEffect)(()=>{const recommendedOption=cartSize<sizeThreshold?smallOption:largeOption;setRecommendedVariant(recommendedOption),setSelectedOption(recommendedOption)},[cartSize,sizeThreshold,smallOption,largeOption,setRecommendedVariant,setSelectedOption]);const handleSelectedSwatch=(option,variantId)=>{handleChangeVariant(variantId),setSelectedOption(option)};return react.createElement("div",{className:"CartGiftWrap-listing"},variantOptions?.map(option=>react.createElement(GiftWrapItem,{moneyFormat,isSelected:option===selectedOption,key:option,recommended:option===recommendedVariant,variants:variants.filter(variant=>variant.options.includes(option)),isFreeGiftBag,handleSelectedSwatch,option})))};var freeze_body_scrolling=__webpack_require__("355a436d015b881d6188"),uid=__webpack_require__("69f8ff54509624d84153");const GiftWrap=props=>{const{giftWrapSettings:{enable_free_product:enableFreeProduct,enable_recommendations:giftWrapEnableRecommendations,gift_wrap_card:giftWrapCard,gift_wrap_drawer:{banner,drawer_title,drawer_text},gift_wrap_product:giftWrapProduct,price_threshold:priceThreshold,size_threshold:sizeThreshold},machine,moneyFormat,totalCartPrice,cartItems,extraCartData,isCartPage=!1,isMobileCartPage=!1}=props,isRunningRef=(0,react.useRef)(!1),[selectedVariant,setSelectedVariant]=(0,react.useState)(),giftBagProducts=(0,react.useMemo)(()=>cartItems.filter(item=>item.product_id===giftWrapProduct?.product_id),[cartItems,giftWrapProduct]),freeGiftBag=(0,react.useMemo)(()=>giftBagProducts.find(item=>{var _item_properties;return((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gift_bag)===!0}),[giftBagProducts]),freeGiftBagsTotalPrice=(0,react.useMemo)(()=>giftBagProducts.filter(item=>{var _item_properties;return((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gift_bag)===!0}).reduce((acc,item)=>item.price+acc,0),[giftBagProducts]),cartItemsRef=(0,react.useRef)(cartItems);(0,react.useEffect)(()=>{cartItemsRef.current=cartItems},[cartItems]);const[blockPopertyChanges,setBlockPopertyChanges]=(0,react.useState)(!1),[isThresholdHit,setIsThresholdHit]=(0,react.useState)(null),[isLoading,setIsLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),[isDrawerOpen,setIsDrawerOpen]=(0,react.useState)(!1),[cartSize,setCartSize]=(0,react.useState)(0),[showGiftBagCard,setShowGiftBagCard]=(0,react.useState)(!1),[isFreeGiftBag,setIsFreeGiftBag]=(0,react.useState)(!1),setSelectedOrFirstAvailableVariant=(0,react.useCallback)(variantId=>{if(!giftWrapProduct)return void console.error("No gift wrap product found");const selectedOrFirstVariant=giftWrapProduct.variants.find(variant=>variant.id===variantId)||giftWrapProduct.variants.find(variant=>variant.available);setSelectedVariant(selectedOrFirstVariant)},[giftWrapProduct,setSelectedVariant]),addToCart=(0,react.useCallback)(async()=>{try{if(!selectedVariant)throw new Error("No variant selected");setIsLoading(!0),setError(null);const properties={};enableFreeProduct&&(properties._random_separator=(0,uid.genUid)()),isFreeGiftBag&&!enableFreeProduct&&(properties._is_free_gift_bag=!0),await new Promise(function(resolve,reject){machine.addItems({resolve,reject,input:{items:[{id:selectedVariant?.id||0,quantity:1,properties}]}})}),setIsLoading(!1),setIsDrawerOpen(!1)}catch(err){setIsLoading(!1),setError(`${err}`)}},[selectedVariant,enableFreeProduct,setIsLoading,setError,setIsDrawerOpen,machine,isFreeGiftBag]);(0,react.useEffect)(()=>{(window.location.pathname.includes("/cart")&&!isCartPage||isMobileCartPage)&&setBlockPopertyChanges(!0)},[isCartPage,setBlockPopertyChanges,isMobileCartPage]);const schedulePropertyChange=(0,react.useCallback)((giftBag,action)=>new Promise((resolve,reject)=>{const properties={_random_separator:(0,uid.genUid)()};action==="add"&&(properties._is_free_gift_bag=!0);const createPayload=itemKey=>[{id:itemKey,quantity:1,properties}],changeProperties=payload=>{machine.changeProperties({items:payload}),resolve()};if(machine.isChangePropertiesAllowed()){const directAddPayload=createPayload(giftBag.key);changeProperties(directAddPayload)}else{let tries=20;const changePropertiesInterval=setInterval(()=>{if(tries--,machine.isChangePropertiesAllowed()){const newItemLine=cartItemsRef.current.find(item=>item.variant_id===giftBag.variant_id),itemKey=newItemLine?newItemLine.key:giftBag.key,updates=createPayload(itemKey);changeProperties(updates),clearInterval(changePropertiesInterval)}tries===0&&(reject(new Error("Change properties not allowed after limit tries")),clearInterval(changePropertiesInterval))},500)}}),[machine,cartItemsRef]),removeFreeBagProperty=(0,react.useCallback)(()=>new Promise((resolve,reject)=>{if(!giftBagProducts.length)return void resolve();setIsLoading(!0),setError(null);const giftBagToRemoveProperty=cartItemsRef.current.find(item=>{var _item_properties;return((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gift_bag)===!0});giftBagToRemoveProperty?schedulePropertyChange(giftBagToRemoveProperty,"remove").then(()=>{setIsLoading(!1),resolve()}).catch(err=>{setIsLoading(!1),console.error("Failed to remove free gift bags",err),reject(new Error(`${err}`))}):resolve()}),[setIsLoading,setError,giftBagProducts,schedulePropertyChange]),addFreeBagProperty=(0,react.useCallback)(()=>new Promise((resolve,reject)=>{const cheaperGiftBag=cartItemsRef.current.filter(item=>item.product_id===giftWrapProduct?.product_id).sort((a,b)=>a.price-b.price)[0];cheaperGiftBag?(setIsLoading(!0),setError(null),schedulePropertyChange(cheaperGiftBag,"add").then(()=>{setIsLoading(!1),resolve()}).catch(err=>{setIsLoading(!1),console.error("Failed to add free gift bag",err),reject(new Error(`${err}`))})):resolve()}),[setIsLoading,setError,giftWrapProduct,schedulePropertyChange]);return(0,react.useEffect)(()=>{if(isRunningRef.current||blockPopertyChanges||!enableFreeProduct)return;const cheaperGiftBag=giftBagProducts.sort((a,b)=>a.price-b.price)[0],curentFreeGiftBag=giftBagProducts.find(item=>{var _item_properties;return((_item_properties=item.properties)===null||_item_properties===void 0?void 0:_item_properties._is_free_gift_bag)===!0});curentFreeGiftBag&&(cheaperGiftBag?.price||0)>=(curentFreeGiftBag?.price||0)&&isThresholdHit||(isThresholdHit||curentFreeGiftBag)&&(isRunningRef.current=!0,(async()=>{try{await removeFreeBagProperty(),isThresholdHit&&await addFreeBagProperty(),isRunningRef.current=!1}catch(err){console.error("Failed to check discount",err),isRunningRef.current=!1}})())},[isThresholdHit,blockPopertyChanges,addFreeBagProperty,removeFreeBagProperty,giftBagProducts,enableFreeProduct]),(0,react.useEffect)(()=>{error&&setTimeout(()=>{setError(null)},5e3)},[error]),(0,react.useEffect)(()=>{(()=>{const settingQtyLimit=giftWrapProduct?.quantity_limit||1,totalGiftBagQty=giftBagProducts.reduce((acc,item)=>item.quantity+acc,0);setShowGiftBagCard(totalGiftBagQty<settingQtyLimit)})()},[giftBagProducts,giftWrapProduct?.quantity_limit,setShowGiftBagCard]),(0,react.useEffect)(()=>{enableFreeProduct&&(()=>{const newPriceThresholdHit=totalCartPrice+freeGiftBagsTotalPrice>=100*(priceThreshold||100),isFreeGiftBagElegible=newPriceThresholdHit&&!freeGiftBag;setIsThresholdHit(newPriceThresholdHit),setIsFreeGiftBag(isFreeGiftBagElegible)})()},[totalCartPrice,setIsFreeGiftBag,priceThreshold,freeGiftBag,freeGiftBagsTotalPrice,setIsThresholdHit,enableFreeProduct]),(0,react.useEffect)(()=>{giftWrapEnableRecommendations&&(()=>{const sizeScoreSum=extraCartData?.items.reduce((acc,item)=>acc+parseFloat(item.variant_size_score)*item.quantity,0);sizeScoreSum&&setCartSize(sizeScoreSum)})()},[giftWrapEnableRecommendations,extraCartData,setCartSize]),(0,react.useEffect)(()=>{const content=document.querySelector("#content"),upsellModule=document.querySelector(".upsell-inner");if(!(content instanceof HTMLElement&&upsellModule instanceof HTMLElement))return;const setZIndex=(element,zIndex)=>{element&&(element.style.zIndex=zIndex)};(isOpen=>{const zIndexValue=isOpen?"999":"auto",upsellModuleIndex=isOpen?"auto":"9999";upsellModule.style.opacity=isOpen?"0":"1",setZIndex(upsellModule,upsellModuleIndex),isCartPage&&(setZIndex(content,zIndexValue),isOpen?(0,freeze_body_scrolling.freeze)():(0,freeze_body_scrolling.thaw)())})(isDrawerOpen)},[isDrawerOpen,isCartPage]),showGiftBagCard?react.createElement("div",null,react.createElement("div",{className:(0,clsx_m.default)("CartGiftWrap-add",isCartPage&&"CartGiftWrap-add__cartPage")},react.createElement("div",{className:"CartGiftWrap-section is-image"},react.createElement("div",{className:"CartGiftWrap-imagePlaceholder o-placeholder",style:{backgroundImage:giftWrapCard.image?`url(${giftWrapCard.image})`:void 0},"aria-label":giftWrapCard.image?"image of gift bag":"",tabIndex:giftWrapCard.image?0:-1,"aria-hidden":giftWrapCard.image?"false":"true"})),react.createElement("div",{className:"CartGiftWrap-content"},giftWrapCard.title&&react.createElement("p",{className:"CartGiftWrap-productTitle"},giftWrapCard.title),giftWrapCard.threshold&&react.createElement("p",{className:"CartGiftWrap-threshold"},giftWrapCard.threshold)),react.createElement("div",{className:"CartGiftWrap-buttonWrapper"},react.createElement(components_button.Button,{element:"button",modifiers:"Button__dark Button__filled",backgroundColor:giftWrapCard.atc_color,label:"add",onClick:()=>setIsDrawerOpen(!0)}))),isCartPage&&isDrawerOpen&&react.createElement("div",{className:"CartGiftWrap-drawer__overlay",onClick:()=>{setIsDrawerOpen(!1)}}),react.createElement("div",{className:(0,clsx_m.default)("CartGiftWrap-drawer",isDrawerOpen&&"open",isCartPage&&"CartGiftWrap-drawer__cartPage")},react.createElement("div",{className:"CartGiftWrap-drawerContent"},react.createElement("div",{className:"CartGiftWrap-drawerHeader"},react.createElement("p",{className:"CartGiftWrap-drawerTitle u-noMargin"},drawer_title||"Select DIY Gift Wrap"),drawer_text&&react.createElement("p",{className:"CartGiftWrap-drawerSubtitle"},drawer_text)),react.createElement("button",{className:"CartGiftWrap-close","aria-label":"Close gift bag drawer",type:"button",onClick:()=>setIsDrawerOpen(!1)}),giftWrapProduct&&react.createElement(GiftWrapListing,{giftWrapProduct,handleChangeVariant:variantId=>setSelectedOrFirstAvailableVariant(variantId),cartSize,sizeThreshold:sizeThreshold||99,isFreeGiftBag,moneyFormat}),react.createElement("div",{className:"CartGiftWrap-drawerFooter"},react.createElement("div",{className:"CartGiftWrap-banner"},banner.drawer_banner_image&&banner.drawer_banner_media_type==="image"&&react.createElement("div",{className:"CartGiftWrap-banner-image o-placeholder",style:{backgroundImage:banner.drawer_banner_image?`url(${banner.drawer_banner_image})`:void 0},"aria-label":banner.drawer_banner_image?"image of gift bag":"",tabIndex:banner.drawer_banner_image?0:-1,"aria-hidden":banner.drawer_banner_image?"false":"true"}),banner.drawer_banner_video&&banner.drawer_banner_media_type==="video"&&react.createElement("video",{autoPlay:!0,loop:!0,muted:!0,className:"CartGiftWrap-banner-video",width:"100%",height:"100%",src:banner.drawer_banner_video,"aria-hidden":"true"}),react.createElement("div",{className:"CartGiftWrap-bannerContent"},banner.drawer_banner_title&&react.createElement("p",{className:"CartGiftWrap-bannerTitle"},banner.drawer_banner_title),banner.drawer_banner_text&&react.createElement("p",{className:"CartGiftWrap-bannerText"},banner.drawer_banner_text))),react.createElement("div",{className:"CartDrawer-buttonWrapper"},error&&react.createElement("p",{className:"CartDrawer-error"},error.replace("Error: ","")),selectedVariant?.available?react.createElement(components_button.Button,{element:"button",modifiers:"Button__dark Button__filled Button__fullWidth Button__large",label:`Add Gift Bag - ${isFreeGiftBag?"Free":(0,format_money.formatMoney)(selectedVariant.price,moneyFormat)}`,backgroundColor:selectedVariant.swatch_color||"",disabled:isLoading,onClick:()=>addToCart()}):react.createElement(components_button.Button,{element:"button",modifiers:"Button__transparent Button__filled Button__fullWidth Button__large",label:selectedVariant?"Sold Out":"Select a Color",disabled:!0,onClick:()=>setError("This color is out of stock")})))))):null}},"3c8c614229a55376da64":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CartData:()=>CartData,CartDrawerIO:()=>CartDrawerIO,CartQuantityData:()=>CartQuantityData,InternalQuantityErrorPayload:()=>InternalQuantityErrorPayload});var superstruct__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("96294add2d9632ee5da8"),_core_product_options_io__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b8a6475f1374bf47365a");const GiftWrapCardSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),threshold:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),atc_color:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()}),GiftWrapBannerSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({drawer_banner_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),drawer_banner_text:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),drawer_banner_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),drawer_banner_video:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),drawer_banner_media_type:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.literal)("image"),(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.literal)("video")])}),GiftWrapDrawerSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({drawer_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),drawer_text:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),banner:GiftWrapBannerSettingsIO}),GiftWrapVariantIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({price:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),available:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),description:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),swatch_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),swatch_color:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),options:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)())}),GiftWrapProductIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({product_id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()),quantity_limit:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),product_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),product_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),options_with_values:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)(_core_product_options_io__WEBPACK_IMPORTED_MODULE_0__.OptionsWithValues),variants:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)(GiftWrapVariantIO)}),GiftWrapSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({enabled:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),enable_recommendations:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),enable_free_product:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),size_threshold:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()),price_threshold:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()),gift_wrap_card:GiftWrapCardSettingsIO,gift_wrap_drawer:GiftWrapDrawerSettingsIO,gift_wrap_product:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)(GiftWrapProductIO)}),SelectableGWPGiftIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),variant_id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),variant_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),available:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),swatch_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),swatch_color:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)())}),SelectableGWPSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({enabled:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)()),hideUpsell:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)()),collapsed_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),header:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),fine_print:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),expanded_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),mini_header:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),selectableGifts:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)(SelectableGWPGiftIO))}),FreeGiftSettingsIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({is_free_gift_enabled:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)()),free_gift_requisite_quantity:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()),free_gift_requisite_products:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)())),free_gift_requisite_product_no_qty:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)())),variant_id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()),free_gift_removed_from_cart_message:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),promotion:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({enabled:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)()),title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),description:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),section_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),cta_label:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)())})),selectableGWP:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)(SelectableGWPSettingsIO)}),UpsellProductsExtraDataIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({product_id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),variants:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),oos_mode:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),oos_message:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),swatch_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),swatch_color:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)())}))})),UpsellProductIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({product:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)(_core_product_options_io__WEBPACK_IMPORTED_MODULE_0__.Product),upsell_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),show_smp_layout:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),redirect_to_product:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),url:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),cta_label:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)())}),CartDrawerIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({moneyFormat:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),cartTitle:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),freeShippingThreshold:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),freeShippingSwitch:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)(),freeShippingMessage:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),freeShippingMessageBefore:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),freeShippingUnlockedMessage:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),rebuy_endpoint:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),upsellCollectionProducts:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)(_core_product_options_io__WEBPACK_IMPORTED_MODULE_0__.Product),upsellProducts:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)(UpsellProductIO),upsellCollectionImages:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()})),upsellCollectionNotes:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),note:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()})),upsellProductsExtraData:UpsellProductsExtraDataIO,buttonMode:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),freeGiftSettings:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)(FreeGiftSettingsIO),giftWrapSettings:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)(GiftWrapSettingsIO)}),CartQuantityData=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({available:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.boolean)()}),CartItemIO=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({variant_id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),quantity:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),max_variants_limit:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),quantity_limit:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),variant_quantity_limit:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),variant_size_score:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)(),custom_bundle_uid:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),custom_bundle_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),custom_bundle_image:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()),smp_variant_title:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()))}),CartData=((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({item:CartItemIO,quantity:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),custom_bundle_uid:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.string)()}),(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({items:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)(CartItemIO)})),InternalQuantityErrorPayload=(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.type)({item_payload:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_1__.object)({id:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)(),quantity:(0,superstruct__WEBPACK_IMPORTED_MODULE_1__.number)()}))})}}]);
//# sourceMappingURL=/cdn/shop/t/1074/assets/shared-src-by-usage-min-2.js.map?v=177155564030420011061761066870
