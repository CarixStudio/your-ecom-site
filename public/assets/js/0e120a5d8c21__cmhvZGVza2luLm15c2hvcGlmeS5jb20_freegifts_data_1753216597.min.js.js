eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1u.1t={"1s":[],"1r":[],"1q":[{"7":1p,"19":"","6":"1a","18":i,"17":"16-1o","15":{"l":[],"14":"13"},"k":{"e":{"12":"11","10":1},"f":"Z","Y":{"9":"X","l":W},"k":[{"7":1n,"6":"j 5 4 8 H","V":"j-5-4-8","U":1,"T":[{"7":1m,"S":"0.R","6":"Q P","h":i}],"h":"O:\\/\\/N.M.L\\/s\\/g\\/1\\/K\\/J\\/I\\/g\\/5-4-1l-1k-1j-1i-1h.G?v=1g"}]},"F":{"E":d,"D":{"f":"e","C":2,"B":["1a"]},"z":d},"y":"c-b-x:w:3.a","u":"c-b-t:3:3.a","9":"r","q":{"p":{"o":2,"n":2,"m":2}}},{"7":1f,"19":"","6":"A","18":i,"17":"16-1e","15":{"l":[],"14":"13"},"k":{"e":{"12":"11","10":1},"f":"Z","Y":{"9":"X","l":W},"k":[{"7":1d,"6":"j 5 4 8","V":"j-5-4-8-1","U":1,"T":[{"7":1c,"S":"0.R","6":"Q P","h":i}],"h":"O:\\/\\/N.M.L\\/s\\/g\\/1\\/K\\/J\\/I\\/g\\/5-4-8.G?v=1b"}]},"F":{"E":d,"D":{"f":"e","C":2,"B":["A"]},"z":d},"y":"c-b-x:w:3.a","u":"c-b-t:3:3.a","9":"r","q":{"p":{"o":2,"n":2,"m":2}}}]};',62,93,'||true|00|club|summer|title|id|surprise|type|000000Z|07|2025|false|auto|method|files|thumbnail|null|rhode|products|value|shipping|product|order|combinations|shopify_discount_settings|checkout||25T21|end_time||55|22T20|start_time|variant_matching|SURPRISEGIFT|discounts_value|status|discount_require|exclude_product|advances|jpg||8510|5451|0606|com|shopify|cdn|https|Title|Default|01|price|variants|quantity|handle|100|percentage|discount|manual|number_of_products|COMPLEMENTARY|intent|any|option|trigger|BOGOS|code|description|name|SURPRISETREAT|1752177533|46743633166574|8898543223022|CSDo54|3534|1752210083|8c1c74a2019a|9e84|473d|1221|surprise_3604616a|46721055850734|8897314357486|CkSz39|3532|upsells|bundles|offers|fgData|window'.split('|'),0,{}))
;/* END_FG_DATA */ 
 "use strict";(()=>{window.fgGiftIcon=typeof fgGiftIcon=="string"&&fgGiftIcon;window.fgWidgetIconsObj=typeof fgWidgetIconsObj<"u"&&fgWidgetIconsObj;window.fgStepIconsObj=typeof fgStepIconsObj<"u"&&fgStepIconsObj;(function(){if(window.FGSECOMAPP={...window.FGSECOMAPP,productsInPage:{},productsByID:{},arrOfferAdded:[],bogos_discounts_apply:[],cartItems:Object.values(Shopify?.cartItems??{}),SHOPIFY_CART:{item_count:0},offers:[],bundles:[],upsells:[],discounts:[]},window.SECOMAPP??={current_template:"none",current_code:void 0,freegiftProxy:"/apps/secomapp_freegifts_get_order?ver=3.0",bogosCollectUrl:void 0,bogosIntegrationUrl:void 0,customer:{tags:[],orders:[],last_total:0,freegifts:[],freegifts_v2:[]},activateOnlyOnePromoCode:!1,getQueryString:()=>{},getCookie:()=>{},setCookie:()=>{},deleteCookie:()=>{},fgData:{}},window.Shopify=window.Shopify||{},window.ShopifyAPI=window.ShopifyAPI||{},window.fgData={...window.fgData,...SECOMAPP.fgData,offers:window.fgData?.offers??[],bundles:window.fgData?.bundles??[],upsells:window.fgData?.upsells??[]},window.fgData?.appearance?.gift_icon?.gift_icon_path&&typeof fgGiftIcon=="string"&&(window.fgData.appearance.gift_icon.gift_icon_path=fgGiftIcon),window.fgData?.appearance?.today_offer?.shopify_widget_icon_path&&typeof fgWidgetIconsObj<"u"){let t=window.fgData.appearance.today_offer.shopify_widget_icon_path;window.fgData.appearance.today_offer.widget_icon_path=fgWidgetIconsObj[t]??t}if(window.fgData?.appearance?.bundle_page?.content?.shopify_step_icon_path&&typeof fgStepIconsObj<"u"){let t=window.fgData.appearance?.bundle_page?.content?.shopify_step_icon_path;window.fgData.appearance.bundle_page.content.step_icon_path=fgStepIconsObj[t]??t}FGSECOMAPP.fgSettings=window.fgData?.settings??{},FGSECOMAPP.fgAppearance=window.fgData?.appearance??{},FGSECOMAPP.fgTranslation=window.fgData?.translation??{},FGSECOMAPP.fgIntegration=window.fgData?.integration??{},FGSECOMAPP.fgIntegration={...FGSECOMAPP.fgIntegration,theme:{pubsub:!1}},FGSECOMAPP.storefront=window.fgData?.storefront||{},FGSECOMAPP.variables={integration_apps:[],constants:{sca_offers_added:"sca_offers_added",sca_products_info:"sca_products_info",bogos_discounts_apply:"bogos_discounts_apply",FGSECOMAPP_HIDDEN_GIFT_POPUP:"FGSECOMAPP_HIDDEN_GIFT_POPUP",bogos_judgeme_ratings:"bogos_judgeme_ratings"},scaHandleConfigValue:{...Shopify?.scaHandleConfigValue},isCheckout:!1,isCartPage:window.location.href.includes("/cart"),textView:{},sca_fg_codes:[],Shopify:{...window.Shopify,sca_fg_price:Shopify?.sca_fg_price??"discounted_price",...SECOMAPP.variables}},FGSECOMAPP.CUSTOM_EVENTS={START_RENDER_APP:"fg-app:start",END_RENDER_APP:"fg-app:end",BOGOS_FETCH_CART:"bogos:fetch-cart",GIFT_UPDATED:"fg-gifts:updated",SHOW_GIFT_SLIDER:"fg-gifts:show-slider",BOGOS_FG_CART_MESSAGE:"bogos:message"},FGSECOMAPP.helper={Glider:window.Glider||function(){console.warn("BOGOS track: Glider not found")},reRenderCartCustom:Shopify?.reRenderCartCustom??void 0};let D={JUDGEME_STAR_RATING_PREVIEW_BADGE:`<div class="bogos-judgeme-integration-review-widget" data-bogos-product-id="{{ bogos_product_id }}">
                <div style='display:none' class='jdgm-prev-badge' data-average-rating="{{ judgeme_average_rating }}"> 
                    {{ judgeme_average_rating_el }}
                </div>
            </div>`};class M{static MONEY_FRAGMENT=`
        fragment Money_BOGOS on MoneyV2 {
            currencyCode
            amount
        }
        `;static DISCOUNT_ALLOCATION=`
        fragment DiscountAllocation_BOGOS on CartDiscountAllocation {
            discountedAmount {
                ...Money_BOGOS
            }
            ...on CartAutomaticDiscountAllocation {
                title
            }
            ...on CartCustomDiscountAllocation {
                title
            }
            ...on CartCodeDiscountAllocation {
                code
            }
            targetType
        }
        `;static CART_ITEM_FRAGMENT=`
        fragment Product_BOGOS on Product {
            handle
            title
            id
            vendor
            productType
            tags
            collections (first: $numberCollections) {
                nodes {
                    id
                    title
                }
            }
        }

        fragment SellingPlanAllocation_BOGOS on SellingPlanAllocation {
            sellingPlan {
                id
            }
        }

        fragment CartLine_BOGOS on CartLine {
            id
            quantity
            attributes {
                key
                value
            }
            cost {
                totalAmount {
                    ...Money_BOGOS
                }
                amountPerQuantity {
                    ...Money_BOGOS
                }
                compareAtAmountPerQuantity {
                    ...Money_BOGOS
                }
                subtotalAmount {
                    ...Money_BOGOS
                }
            }
            sellingPlanAllocation {
                ...SellingPlanAllocation_BOGOS
            }
            discountAllocations {
                ...DiscountAllocation_BOGOS
            }
            merchandise {
                ... on ProductVariant {
                    id
                    availableForSale
                    compareAtPrice {
                        ...Money_BOGOS
                    }
                    price {
                        ...Money_BOGOS
                    }
                    requiresShipping
                    title
                    image {
                        id
                        url
                        altText
                        width
                        height
                    }
                    product {
                        ...Product_BOGOS
                    }
                    selectedOptions {
                        name
                        value
                    }
                }
            }
        }
        `;static CART_INFO_FRAGMENT=`
        ${this.CART_ITEM_FRAGMENT}

        fragment CartDetail_BOGOS on Cart {
            id
            checkoutUrl
            totalQuantity
            buyerIdentity {
                countryCode
                email
                phone
            }
            lines(first: $numCartLines) {
                nodes {
                    ...CartLine_BOGOS
                }
            }
            cost {
                subtotalAmount {
                    ...Money_BOGOS
                }
                totalAmount {
                    ...Money_BOGOS
                }
            }
            discountAllocations {
                ...DiscountAllocation_BOGOS
            }
            note
            attributes {
                key
                value
            }
            discountCodes {
                code
                applicable
            }
        }
        `;static CART_QUERY_FRAGMENT=`
        ${this.MONEY_FRAGMENT}
        ${this.CART_INFO_FRAGMENT}
        ${this.DISCOUNT_ALLOCATION}

        query Cart_BOGOS (
            $cartId: ID!,
            $numCartLines: Int,
            $numberCollections: Int,
            $country: CountryCode,
            $language: LanguageCode
        ) @inContext(country: $country, language: $language) {
            cart(id: $cartId) {
                ...CartDetail_BOGOS
            }
        }
        `;static CART_APPLY_DISCOUNT_CODES=`
        mutation cartDiscountCodesUpdate($cartId: ID!, $discountCodes: [String!]) {
            cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
                cart {
                    id
                    discountCodes {
                        applicable
                        code
                    }
                }
                userErrors {
                   code
                   field
                   message
                }
                warnings {
                    code
                    message
                    target
                }
            }
        }
        `;static PRODUCTS_COLLECTION=`
        query getCollectionById(
            $id: ID!, 
            $first: Int,  
            $filters: [ProductFilter!],
            $country: CountryCode,
            $language: LanguageCode, 
            $after: String,
        ) @inContext(country: $country, language: $language) {
            collection(id: $id) {
                products (first: $first, after: $after, filters: $filters) {
                    nodes {
                        id
                        title
                        handle
                        tags
                        productType
                        vendor
                        featuredImage {
                            url
                        }
                        variants (first: 100) {
                            nodes {
                                availableForSale
                                id
                                price {
                                   amount 
                                }
                                title
                                image {
                                    url
                                }
                            } 
                        }
                    }
                    pageInfo {
                        hasNextPage
                        endCursor
                    }
                }
            }
        }
        `;static GET_PRODUCTS=`
        query getProducts(
            $first: Int, 
            $query: String,  
            $country: CountryCode, 
            $language: LanguageCode,
            $after: String
        ) @inContext(country: $country, language: $language) {
            products(first: $first, after: $after, query: $query) {
                nodes {
                    id
                    title
                    handle
                    tags
                    productType
                    vendor
                    featuredImage {
                        url
                    }
                    availableForSale
                    variants(first: 100) {
                        nodes {
                            availableForSale
                            id
                            price {
                                amount
                            }
                            title
                            image {
                                url
                            }
                        }
                    }
                }
                pageInfo {
                    hasNextPage
                    endCursor
                }
            }    
        }`}class F{static REGEX_VAR=/{{([^}]+)}}/g;constructor(){F.defaultText()}static defaultText(){let{gift_slider:e,today_offer:o,gift_icon:n}=FGSECOMAPP.fgAppearance??{},{disable_slider_checkbox:a,general:{gift_popup_title:c,add_to_cart_btn_title:i}}=e??{general:{}},{product_page:{gift_thumbnail:{title:s}}}=n??{},{widget_info:u}=o??{};FGSECOMAPP.variables.textView={fg_text_disable_slider:b.convertIntegration(a?.text??"Don't show this offer again","customize.disable_slider_text","customize.gift_slider.disable_slider_checkbox_text"),fg_slider_title:b.convertIntegration(c??"Select your free gift!","customize.gift_slider_title","customize.gift_slider.gift_popup_title"),fg_gift_icon:n.gift_icon_path,fg_gift_icon_alt:"free-gift-icon",fg_gift_thumbnail_title:b.convertIntegration(s??"Free Gift","customize.product_page_message","customize.gift_icon.gift_thumbnail_title"),sca_fg_today_offer_title:b.convertIntegration(u?.widget_title??"TODAY OFFER","customize.widget_title","customize.today_offer.widget_title"),sca_fg_today_offer_subtitle:b.convertIntegration(u?.widget_subtitle??"Claim these exclusive offers today","customize.widget_subtitle","customize.today_offer.widget_subtitle"),sca_fg_today_offer_widget:o?.widget_icon_path,"sca-fg-title-icon-widget-content":b.convertIntegration(u?.icon_widget_title??"Today offer","customize.widget_icon_title","customize.today_offer.icon_widget_title"),fg_add_to_cart:b.convertIntegration(i??"Add to cart","customize.add_to_cart_button","customize.gift_slider.add_to_cart_btn_title")}}render(e,o={}){return o={...o,...FGSECOMAPP.variables.textView},e.replace(F.REGEX_VAR,(n,a)=>(a=a.trim(),r.getVariable(a,o)??""))}}let P={BUNDLE_TYPE:{default:"bundle",classic:"classic_bundle",quantity_break:"quantity_break",mix_match:"mix_match",bundle_page:"bundle_page"},OFFER_TYPE:{cloned:"cloned",function:"function",gift_func:"gift"},JUDGEME_OPTION:{bundle:"bundle",gift_slider:"gift_slider"},CUSTOM_OPTIONS:{equal:"equal_to",not_equal:"not_equal_to",contains:"contains",not_contains:"not_contains"},NARROW_TYPE:{product:"variants_ids",product_types:"product_types",product_vendors:"product_vendors",collection:"product_collections"},MIX_TYPE:{diff:"diff_set",single:"single_set"},TIER_TYPE:{label:"label",progress:"progress"},DISCOUNT_TYPE:{percentage:"percentage",fixed_amount:"fixed_amount",fixed_price:"fixed_price",free_products:"free_products",cheapest_free:"cheapest_free"},SYNC_QUANTITY:{stop_offer:"stop_offer"},OBJECT_TYPE:{product:"product",variant:"variant"},LAYOUT_TYPE:{step_by_step:"step_by_step",one_page:"one_page"},UPSELL_TYPE:{default:"upsell",fbt:"fbt",checkout:"checkout"},UPSELL_METHOD:{manual:"manual",auto:"auto",random:"random"},FBT_WIDGET_TYPE:{classic:"classic",stack:"stack"}};P.TRIGGER_FUNC={[P.OFFER_TYPE.gift_func]:"GF",[P.BUNDLE_TYPE.quantity_break]:"QB",[P.BUNDLE_TYPE.classic]:"CB",[P.BUNDLE_TYPE.default]:"CB",[P.BUNDLE_TYPE.mix_match]:"MM",[P.BUNDLE_TYPE.bundle_page]:"BP",[P.UPSELL_TYPE.fbt]:"FBT"};let r={getIntShopifyId:t=>parseInt(t.split("/").pop()),getVariable(t,e){return t?.split(".")?.reduce((o,n)=>(o||{})[n],e??{})},getCustomerLocation:async()=>{try{let t=await r.fetch("https://geoip.secomtech.com/?json").then(e=>e.json())||{country_code:FGSECOMAPP.variables.Shopify?.country};FGSECOMAPP.customerLocation=t?.country_code}catch(t){console.warn("BOGOS track: Failed to get customer location",t)}},getDataConfigSetting:t=>{try{let o={...FGSECOMAPP.variables.scaHandleConfigValue}[t];if(o=o?o.trim():null,!r.empty(o)&&o.length>0)try{return document.querySelector(o),o}catch{return""}return""}catch{return""}},getCookie:t=>{let e=t+"=",n=document.cookie.split(";");for(let a=0;a<n.length;a++){let c=n[a];for(;c.charAt(0)===" ";)c=c.substring(1);if(c.indexOf(e)===0){let i=c.substring(e.length,c.length);try{return decodeURIComponent(i)}catch(s){console.warn("BOGOS track: Error decoding cookie",s);return}}}},getCartShopifyID:t=>`gid://shopify/Cart/${t}`,checkIsDefaultTitle:t=>t==="Default Title",convertVariantAddBundle:t=>({id:t.id-0,title:t.title.trim(),price:t.price,quantity:1,thumbnail:t.thumbnail}),checkCartItemIsGift:(t,e)=>{let o="-sca_clone_freegift",n=typeof t=="object",a=n&&(FGSECOMAPP.variables.giftIdsFunction.includes(t.variant_id)||FGSECOMAPP.variables.giftIds.includes(t.variant_id))&&t.properties?._bogos_trigger_type===P.OFFER_TYPE.gift_func&&!r.empty(t.properties?._bogos_trigger);return a&&!r.empty(e)?t.properties?._bogos_trigger_id===e.offer_root:!r.empty(t)&&(n&&(t.handle?.includes(o)||t.tags?.includes("bogos-gift")||FGSECOMAPP.variables.giftIds?.includes(t.variant_id)||a)||typeof t=="string"&&t.includes(o))},checkCartItemIsPurchaseOption:t=>{let{selling_plan_allocation:e}=t||{selling_plan_allocation:{selling_plan:null}};return!r.empty(e)&&!r.empty(e?.selling_plan)},checkValidTimeOffer:(t,e)=>{if(t){let n=new Date().getTime(),a=new Date(t).getTime();if(e){let c=new Date(e).getTime();return n>=a&&n<=c}else return n>=a}return!1},sufferArray:t=>t.sort((e,o)=>Math.random()*10-Math.random()*10),convertMultiCurrency:t=>{t=t??0;let{currency:e,fg_decimal:o}=FGSECOMAPP.variables.Shopify,n=e?.rate??1;return parseFloat(parseFloat(`${n}`)===1?t:(t*n).toFixed(o??2))},handleResizeGiftImage:(t,e)=>{try{let o=e?"&width=90&height=90":FGSECOMAPP.variables.Shopify?.customGiftImgSize??FGSECOMAPP.fgAppearance?.gift_slider?.others?.gift_img_size??"&width=480&height=480",n=new URL(t);return new URLSearchParams(o).forEach((c,i)=>n.searchParams.set(i,c)),n.toString()}catch{return t}},convertObjToString:(t,e="base64")=>e==="uri"?FGSECOMAPP.helper.LZString.compressToEncodedURIComponent(JSON.stringify(t)):FGSECOMAPP.helper.LZString.compressToBase64(JSON.stringify(t)),convertStringToObj:t=>JSON.parse(FGSECOMAPP.helper.LZString.decompressFromBase64(t)),renderPrice:t=>FGSECOMAPP.helper.formatter.format(t),createTooltip:(t,e,o)=>{if(document.querySelector(".sca-fg-tooltip"))return;let a=document.createElement("p");a.className="sca-fg-tooltip",a.textContent=t,document.body.appendChild(a),a.style.top=o+"px",a.style.left=e+"px",a.style.display="block"},removeTooltip:()=>{let t=document.querySelector(".sca-fg-tooltip");t&&t.parentNode.removeChild(t)},moveTooltip:t=>{let e=document.querySelector(".sca-fg-tooltip");e&&(e.style.top=t.pageY+"px",e.style.left=t.pageX+5+"px")},empty:t=>{if(t===0)return!0;if(typeof t=="number"||typeof t=="boolean")return!1;if(typeof t>"u"||t===null)return!0;if(typeof t.length<"u")return t.length===0;let e=0;for(let o in t)t.hasOwnProperty(o)&&e++;return e===0},getUniqueElementByKey:(t,e)=>[...new Map(t.map(o=>[o[e],o])).values()],initFormatMoney:()=>{try{let{currency:t,sca_locale:e,locale:o,fg_decimal:n}=FGSECOMAPP.variables.Shopify;FGSECOMAPP.helper.formatter=new Intl.NumberFormat(e??o,{style:"currency",currency:t?.active??"USD",minimumFractionDigits:n??2})}catch{FGSECOMAPP.helper.formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:FGSECOMAPP.variables.Shopify?.currency?.active??"USD"})}},initLZString:()=>{try{FGSECOMAPP.helper.LZString=function(){let t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-.",n={};function a(i,s){if(!n[i]){n[i]={};for(let u=0;u<i.length;u++)n[i][i.charAt(u)]=u}return n[i][s]}let c={compressToBase64:function(i){if(i==null)return"";let s=c._compress(i,6,function(u){return e.charAt(u)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(i){return i==null?"":i===""?null:c._decompress(i.length,32,function(s){return a(e,i.charAt(s))})},compressToEncodedURIComponent:function(i){return i==null?"":c._compress(i,6,function(s){return o.charAt(s)})},compress:function(i){return c._compress(i,16,function(s){return t(s)})},_compress:function(i,s,u){if(i==null)return"";let l,_,f={},m={},h="",E="",C="",O=2,G=3,S=2,y=[],d=0,p=0,w;for(w=0;w<i.length;w+=1)if(h=i.charAt(w),Object.prototype.hasOwnProperty.call(f,h)||(f[h]=G++,m[h]=!0),E=C+h,Object.prototype.hasOwnProperty.call(f,E))C=E;else{if(Object.prototype.hasOwnProperty.call(m,C)){if(C.charCodeAt(0)<256){for(l=0;l<S;l++)d=d<<1,p===s-1?(p=0,y.push(u(d)),d=0):p++;for(_=C.charCodeAt(0),l=0;l<8;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1}else{for(_=1,l=0;l<S;l++)d=d<<1|_,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=0;for(_=C.charCodeAt(0),l=0;l<16;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1}O--,O===0&&(O=Math.pow(2,S),S++),delete m[C]}else for(_=f[C],l=0;l<S;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1;O--,O===0&&(O=Math.pow(2,S),S++),f[E]=G++,C=String(h)}if(C!==""){if(Object.prototype.hasOwnProperty.call(m,C)){if(C.charCodeAt(0)<256){for(l=0;l<S;l++)d=d<<1,p===s-1?(p=0,y.push(u(d)),d=0):p++;for(_=C.charCodeAt(0),l=0;l<8;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1}else{for(_=1,l=0;l<S;l++)d=d<<1|_,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=0;for(_=C.charCodeAt(0),l=0;l<16;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1}O--,O===0&&(O=Math.pow(2,S),S++),delete m[C]}else for(_=f[C],l=0;l<S;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1;O--,O===0&&S++}for(_=2,l=0;l<S;l++)d=d<<1|_&1,p===s-1?(p=0,y.push(u(d)),d=0):p++,_=_>>1;for(;;)if(d=d<<1,p===s-1){y.push(u(d));break}else p++;return y.join("")},decompress:function(i){return i==null?"":i===""?null:c._decompress(i.length,32768,function(s){return i.charCodeAt(s)})},_decompress:function(i,s,u){let l=[],_,f=4,m=4,h=3,E="",C=[],O,G,S,y,d,p,w,g={val:u(0),position:s,index:1};for(O=0;O<3;O+=1)l[O]=O;for(S=0,d=Math.pow(2,2),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;switch(_=S){case 0:for(S=0,d=Math.pow(2,8),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;w=t(S);break;case 1:for(S=0,d=Math.pow(2,16),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;w=t(S);break;case 2:return""}for(l[3]=w,G=w,C.push(w);;){if(g.index>i)return"";for(S=0,d=Math.pow(2,h),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;switch(w=S){case 0:for(S=0,d=Math.pow(2,8),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;l[m++]=t(S),w=m-1,f--;break;case 1:for(S=0,d=Math.pow(2,16),p=1;p!==d;)y=g.val&g.position,g.position>>=1,g.position===0&&(g.position=s,g.val=u(g.index++)),S|=(y>0?1:0)*p,p<<=1;l[m++]=t(S),w=m-1,f--;break;case 2:return C.join("")}if(f===0&&(f=Math.pow(2,h),h++),l[w])E=l[w];else if(w===m)E=G+G.charAt(0);else return null;C.push(E),l[m++]=G+E.charAt(0),f--,G=E,f===0&&(f=Math.pow(2,h),h++)}}};return c}()}catch{FGSECOMAPP.helper.LZString=window.LZString}},debounce:function(t,e){let o;return function(){let n=arguments,a=this;o&&clearTimeout(o),o=setTimeout(()=>{t.apply(a,n)},e)}},routePath:t=>(t=t.replace(/^\/+|\/+$/g,""),`${FGSECOMAPP.variables.Shopify?.routes?.root??"/"}${t}`),fetch:(t,e={})=>(typeof t=="string"&&!t.startsWith("http")&&(t=r.routePath(t)),B(t,e)),fetchCartDefault:async t=>{let e=await r.fetch(`/cart.js?sca_fetch&${t??""}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(n=>n.json()),o=e.items;return FGSECOMAPP.SHOPIFY_CART=e,FGSECOMAPP.cartItems=o?.map(n=>({...FGSECOMAPP.cartItems?.find(a=>a.key&&a.key===n.key),...n}))??[],e},fetchInfoCartUpdate:async()=>{let t;try{let e={},{Shopify:o,conditions:n}=FGSECOMAPP.variables??{};if(o?.enable_theme_sections){let a=(await r.fetch("?sections=bogos-cart-sections").then(i=>i.json()))?.["bogos-cart-sections"],c=new DOMParser().parseFromString(a,"text/html");e=JSON.parse(c.body.textContent),FGSECOMAPP.variables.sections_cart=e}else if(!n.collections)return await r.fetchCartDefault();r.empty(e)&&!o?.disable_storefront&&!v.isSpecificOffer&&(e=await A.fetchCart()),r.empty(e)&&(e=await T.getInfoCart().then(a=>a.json())||{shopify_cart:null}),FGSECOMAPP.cartItems=e?.cart?.map(a=>({...FGSECOMAPP.cartItems?.find(c=>c.key===a.key),...a.product,collections:a.collections,tags:a.tags}))??[],FGSECOMAPP.SHOPIFY_CART=e?.shopify_cart??{},SECOMAPP.customer.tags=e.customer_tags||SECOMAPP.customer.tags,t=FGSECOMAPP.SHOPIFY_CART}catch(e){console.error("BOGOS track: failed to parse cart section",e),t=await r.fetchCartDefault()}return document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FETCH_CART)),t},findProductsMatchConditions:(t,e,o)=>{let n=e.product_narrow,{is_only:a}=o??{};return a===!0?t=t.filter(c=>r.checkCartItemIsPurchaseOption(c)):a===!1&&(t=t.filter(c=>!r.checkCartItemIsPurchaseOption(c))),r.empty(n)?t:t.filter(c=>{let i=n.map(l=>{switch(l.type){case P.NARROW_TYPE.product:return Object.values(l.value).map(h=>h.variants??h.variant).flat().map(h=>h.id).includes(c.variant_id);case P.NARROW_TYPE.product_types:return Object.values(l.value).includes(c.product_type);case P.NARROW_TYPE.product_vendors:return Object.values(l.value).includes(c.vendor);case P.NARROW_TYPE.collection:let _=Object.keys(l.value),m=c.collections?.map(h=>h.id+"")?.filter(h=>_.includes(h));return!r.empty(m);default:return!1}}),{filter_option:s}=n[0]??{},u=i.includes(!1);return s==="exclude"?u:!u})},init:()=>{r.initFormatMoney(),r.initLZString()}},b={otherApps:function(){try{document.addEventListener(FGSECOMAPP.CUSTOM_EVENTS.GIFT_UPDATED,async t=>{let e=[];try{await b.renderCartDefaultTheme(t.detail.bogos_config)&&function(){e.push("Shopify theme")}()}catch(o){console.warn("BOGOS track: Default themes",o)}try{window.unicart&&function(){window.unicart.dispatchEvent("Show"),e.push("Unicart")}()}catch(o){console.warn("BOGOS track: Unicart",o)}try{window.prepareDataForDisplayWidgetByRule&&function(){window.prepareDataForDisplayWidgetByRule().then(),e.push("iCart")}()}catch(o){console.warn("BOGOS track: iCart",o)}try{window.Rebuy?.Cart?.fetchCart&&function(){window.Rebuy.Cart.fetchCart(),e.push("Rebuy")}()}catch(o){console.warn("BOGOS track: Rebuy",o)}try{window.SLIDECART_UPDATE&&function(){r.fetchCartDefault("sca_slidecart_tcc").then(o=>{window.SLIDECART_UPDATE(o),window.SLIDECART_OPEN()}),e.push("SLIDECART - HQ")}()}catch(o){console.warn("BOGOS track: SLIDECART - HQ",o)}try{let o=document.querySelector("#upCartStickyButton .upcart-sticky-cart-quantity-icon-text");window.upcartRegisterAddToCart&&function(){window.upcartRegisterAddToCart(),e.push("UpCart - AfterSell"),o&&(o.innerHTML=FGSECOMAPP?.SHOPIFY_CART?.item_count??0)}()}catch(o){console.warn("BOGOS track: UpCart - AfterSell",o)}try{window.STICKY_CART_UPDATE&&function(){window.STICKY_CART_UPDATE().then(()=>window.STICKY_CART_OPEN()),e.push("Slide Cart - qikify")}()}catch(o){console.warn("BOGOS track: Slide Cart - qikify",o)}try{window?.SATCB?.Widgets?.CartSlider?.openSlider&&function(){window.SATCB.Widgets.CartSlider.openSlider().then(),e.push("Sticky Cart - Codeinero")}()}catch(o){console.warn("BOGOS track: Sticky Cart - Codeinero",o)}try{window.monster_refresh&&function(){window.monster_refresh().then(()=>window.openCart()),e.push("Monster Cart")}()}catch(o){console.warn("BOGOS track: Monster Cart",o)}try{window.HS_SLIDE_CART_UPDATE&&function(){window.HS_SLIDE_CART_UPDATE().then(()=>window.HS_SLIDE_CART_OPEN()),e.push("Slide Cart - Heysenior")}()}catch(o){console.warn("BOGOS track: Slide Cart - Heysenior",o)}try{let o=document.querySelector("m-cart-drawer"),n=document.querySelector("drawer-component#Drawer-Cart cart-drawer");window.MinimogTheme&&o&&function(){o?.onCartDrawerUpdate(!window.FoxKitV2?.hasDiscount).then(()=>o?.open()),e.push("FoxEcom - Minimog")}(),window.FoxTheme&&n&&function(){n?.updateCart?.().then(()=>n?.cartDrawer?.openDrawer()),e.push("FoxEcom - Zest")}(),window.FoxTheme?.pubsub?.publish&&async function(){let a=[];document.documentElement.dispatchEvent(new CustomEvent("cart:grouped-sections",{bubbles:!0,detail:{sections:a}}));let c={...FGSECOMAPP.SHOPIFY_CART,sections:""};r.empty(a)||(c.sections=await r.fetch(`?sections=${a}`).then(i=>i.json())),window.FoxTheme?.pubsub.publish(window.FoxTheme.pubsub.PUB_SUB_EVENTS.cartUpdate,{cart:c}),FGSECOMAPP.fgIntegration.theme.pubsub=!0}().then()}catch(o){console.warn("BOGOS track: Theme FoxEcom",o)}try{window.geckoShopify?.onCartUpdate&&function(){window.geckoShopify.onCartUpdate(1,1),e.push("geckoShopify - Theme")}()}catch(o){console.warn("BOGOS track: geckoShopify - Theme",o)}try{window.CartJS&&function(){window.CartJS?.getCart(),e.push("Rivets Cart")}()}catch(o){console.warn("BOGOS track: Rivets Cart",o)}try{window.T4SThemeSP?.Cart?.getToFetch&&function(){window.T4SThemeSP.Cart.getToFetch(),e.push("T4SThemeSP")}()}catch(o){console.warn("BOGOS track: T4SThemeSP",o)}try{window.EasySlideCart?.enabled&&function(){window.dispatchEvent(new CustomEvent("SCE:add",{detail:FGSECOMAPP.SHOPIFY_CART})),e.push("Slide Carty")}()}catch(o){console.warn("BOGOS track: Slide Carty",o)}try{window.smeCartCall&&window.cartdata&&function(){window.smeCartCall().then(),e.push("Sale Max")}()}catch(o){console.warn("BOGOS track: Sale Max",o)}try{window.Spurit&&function(){window.Spurit?.OneClickCheckout3?.cartDrawer?.refresh().then(()=>window?.Spurit?.OneClickCheckout3?.cartDrawer?.show()),e.push("Cartly Slide Cart")}()}catch(o){console.warn("BOGOS track: Cartly Slide Cart",o)}if(FGSECOMAPP.variables.integration_apps=[...new Set(e)],console.info("BOGOS track:",FGSECOMAPP.variables.integration_apps),!e.length)try{document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{detail:{data:{}}})),FGSECOMAPP.fgIntegration.theme.pubsub||document.dispatchEvent(new CustomEvent("cart:refresh",{detail:{data:{}}})),document.dispatchEvent(new CustomEvent("cart:build",{detail:{data:{}}})),document.dispatchEvent(new CustomEvent("cart:update",{detail:{data:{}}})),window?.theme?.ajaxCart?.update&&window.theme.ajaxCart.update()?.then()}catch(o){console.warn("BOGOS track: dispatchEvent",o)}}),window.addEventListener("icartSideCartOpenEvent",function(){setTimeout(()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()},100)}),document.addEventListener("rebuy:smartcart.show",()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()}),window.SLIDECART_OPENED=function(){document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()},window.upcartOnCartOpened=()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()},window.MinimogEvents?.subscribe&&window.MinimogEvents.subscribe(window.MinimogTheme?.pubSubEvents?.openCartDrawer??"open-cart-drawer",function(){document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()}),document.querySelector("#cart-icon-bubble")?.addEventListener("click",()=>{setTimeout(()=>{window?.SATCB&&(document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents())},100)}),document.addEventListener("smeAtcEvent",function(){setTimeout(()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE)),FGSECOMAPP.fetchCheckoutEvents()},100)}),document.querySelectorAll("cart-drawer-component").forEach(t=>{t.addEventListener("dialog:open",()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.BOGOS_FG_CART_MESSAGE))})}),document.addEventListener(FGSECOMAPP.CUSTOM_EVENTS.SHOW_GIFT_SLIDER,()=>{try{typeof window.HS_SLIDE_CART_CLOSE=="function"&&window.HS_SLIDE_CART_CLOSE(),typeof window.closeCart=="function"&&window.closeCart(),typeof window.SLIDECART_CLOSE=="function"&&window.SLIDECART_CLOSE(),document.querySelector(".satcb-cs-close")?.click(),document.querySelector(".icart-close-btn")?.click(),document.querySelector(".salemaximize__drawer-close")?.click()}catch(t){console.warn("BOGOS track: Close cart when show gift-sliders",t)}})}catch(t){console.warn("BOGOS track: Failed integrate apps",t)}},requestJudgeme:async(t,e="",o={})=>{let n=!r.empty(FGSECOMAPP);if(!n)return;let{shop:a}=FGSECOMAPP?.variables?.Shopify,c=r.convertObjToString({shopDomain:a,isInstall:n,time:Date.now(),key:"bogos-judgeme"});return await r.fetch(`${SECOMAPP.bogosIntegrationUrl}/${t}?shop_domain=${a}&${e}`,{method:"GET",headers:{...o,"Content-Type":"application/json",authorization:`Bearer ${c}`}})},checkStatusJudgeme:t=>{let e=FGSECOMAPP.fgIntegration?.judgeme??{},{status:o,display_star_rating:n}=e?.settings??{};return(o&&n&&e?.settings[t])??!1},syncRatingProducts:async(t,e=P.JUDGEME_OPTION.bundle,o)=>{if(b.checkStatusJudgeme(e)&&t.length){let a=await b.requestJudgeme("get_products_rating",`product_ids=${JSON.stringify(t)}`);if(a.status===200){let c=await a.json();localStorage.setItem(FGSECOMAPP.variables.constants.bogos_judgeme_ratings,r.convertObjToString(c))}o?.()}},renderCartDefaultTheme:async t=>{let e=document.querySelector("cart-drawer, cart-sidebar, mini-cart, sht-cart-drwr-frm")||{renderContents:null,getSectionsToRender:null};if(e.renderContents||(e=document.querySelector("cart-drawer, mini-cart")),e?.renderContents){let o=(e.getSectionsToRender&&e.getSectionsToRender()||[]).map(a=>a.section||a.id).join(","),n={...FGSECOMAPP.SHOPIFY_CART,...t};return r.empty(o)||(n.sections=await r.fetch(`?sections=${o}`).then(a=>a.json())),e.renderContents(n),e.classList?.toggle("is-empty",n.item_count===0),document.getElementById("cart-drawer-items")?.classList?.toggle("is-empty",n.item_count===0),document.getElementById("main-cart-footer")?.classList?.toggle("is-empty",n.item_count===0),!0}else if(e?.update)e.update(),e?.open?.();else if(window.theme?.pubsub){let o=[];document.documentElement.dispatchEvent(new CustomEvent("cart:bundled-sections",{bubbles:!0,detail:{sections:o}}));let n={...FGSECOMAPP.SHOPIFY_CART,...t};r.empty(o)||(n.sections=await r.fetch(`?sections=${o}`).then(a=>a.json())),window.theme.pubsub.publish(window.theme.pubsub.PUB_SUB_EVENTS.cartUpdate,{source:"cart-items",cart:n}),FGSECOMAPP.fgIntegration.theme.pubsub=!0}return!1},convertIntegration:(t,e,o=null)=>{try{if(r.empty(t))return"";let n,a=FGSECOMAPP.variables.Shopify?.locale??"en",c=window.fgData?.configs?.translation?.type??FGSECOMAPP?.fgTranslation?.type??"by_bogos",i=window.fgData?.configs?.translation?.integration_app??FGSECOMAPP?.fgTranslation?.integration_app;if(c==="by_integration"){if(i==="weglot")return t??"";let{transcy:s}=FGSECOMAPP.fgIntegration;n=s?.enable?s?.[FGSECOMAPP.variables.Shopify?.sca_transcy_locale??a]?.[e]??t:t}else{let s=FGSECOMAPP?.fgTranslation?.[a]??FGSECOMAPP?.fgTranslation?.trans_data?.[a]??null;n=r.getVariable(`${o}_translate`,s)}return r.empty(n)?t??"":n}catch{return t??""}},renderCart:async t=>{await r.fetchCartDefault();let e=new URL(window.location.href);e.searchParams.set("sca_fetch_cart",""),r.fetch(e.toString()).then(o=>o.text()).then(o=>{let a=new DOMParser().parseFromString(o,"text/html"),{cart_drawer_query:c,cart_icon_query:i}=FGSECOMAPP.QUERY_SELECTOR,s=[...c?.tool].filter(Boolean).join(","),u=[...i?.tool,...i?.default].filter(Boolean).join(",").split(",").filter(f=>!r.empty(f)),l=document.querySelector(s),_=!1;l&&(_=!0,l.innerHTML=a.querySelector(s)?.innerHTML??l.innerHTML),u.forEach(f=>{let m=document.querySelector(f),h=a.querySelector(f);!m||!h||(m.innerHTML=h.innerHTML)}),_||console.log("BOGOS track: Can not fetch all body")}),await FGSECOMAPP.variables?.reRenderCartCustom?.(),document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.GIFT_UPDATED,{detail:{bogos_config:t}}))},renderStarRatingJudgeme:(t,e)=>{if(!t)return;let o=Math.round(t),n=`
                <span class='jdgm-prev-badge__stars' data-score="{{ judgeme_average_rating }}"
                     tabIndex='0'
                     aria-label="{{ judgeme_average_rating }} stars" role='button'>
                      {{ star_rating_item }}
                 </span>
            `,a=[1,2,3,4,5].map(i=>{let s=i-t;return FGSECOMAPP.helper.templateHTML.render("<span class='jdgm-star {{ status }}'></span>",{status:i<=o?"jdgm--on":s>.75?"jdgm--off":"jdgm--half"})}).join(" "),c=FGSECOMAPP.helper.templateHTML.render(n,{judgeme_average_rating:t,star_rating_item:a});return FGSECOMAPP.helper.templateHTML.render(D.JUDGEME_STAR_RATING_PREVIEW_BADGE,{bogos_product_id:e,judgeme_average_rating_el:c,judgeme_average_rating:t})},init:()=>{b.otherApps()}},k={initQuerySelector:()=>{FGSECOMAPP.QUERY_SELECTOR={cart_drawer_query:{tool:[".fg-secomapp-cart-drawer",r.getDataConfigSetting("sca_fg_cart_drawer_query")]},cart_icon_query:{default:["#shopify-section-header #cart-icon-bubble, .shopify-section.section-header #cart-icon-bubble"],tool:[".fg-secomapp-cart-icon",r.getDataConfigSetting("sca_fg_cart_icon_query")]},gift_icon_product_query:{default:[".product_name, .product-title, .product__title, .product-single__title, .tt-title, .ProductMeta__Title",".product-information .product-details > .group-block > .group-block-content .text-block"],integration:[".f-product-single__title, .m-product-title"],tool:[".fg-secomapp-product-title",r.getDataConfigSetting("sca_fg_title_product_gift_icon_query")],page_builder:[".bogos-gift-icon-view",".bogos-integration-page-builder-gift-icon"]},gift_icon_collection_query:{default:[".product-card, #product-grid .grid__item, .product-grid .grid__item, .card-list .card-list__column",".cc-product-list .product-block, .collection-list.grid .grid__item, .collection-grid.grid .grid__item",".ProductList .Grid__Cell, .collection__grid .card-product, .collection__product-grid .product-tile",".product-list .product-item"],integration:[".m-product-item, .m-product-list .swiper-slide, .f-grid .f-column",".f\\:featured-collection .f\\:featured-collection-block .f\\:column"],tool:[".fg-secomapp-collection-img",r.getDataConfigSetting("sca_fg_img_collection_gift_icon_query")]},gift_thumbnail_query:{default:[".product-form-buttons, [type='submit'][name='add'], [type='button'][name='add'], [data-add-to-cart], [data-action='add-to-cart']"],integration:[".product-form[action^='/cart/add'], .m-product-form--wrapper"],tool:[".fg-secomapp-handle-add-to-cart",r.getDataConfigSetting("sca_fg_btn_gift_thumbnail_query")],page_builder:[".bogos-gift-thumbnail-view",".bogos-integration-page-builder-gift-thumbnail"]},cart_message_query:{default:["#MainContent, #mainContent, #main, .main-content"],integration:[".icart-inner .icartContain.identix-sticky-text, .icart-inner .icartContain .icart-sp-cart-flex",".rebuy-cart__flyout-body, #slidecarthq .slidecarthq","#CartPopup .styles_CartPreview__card__KX-WB, #qikify-stickycart-v2-app .qsc2-drawer-wrapper > div:nth-child(2)",".satcb-cs .satcb-cs-top-container, #monster-upsell-cart #monster-cart-wrapper div[class*=custom_scrollbar]","div[class*=hs-cart-drawer] .hs-site-cart-popup-layout, #MinimogCartDrawer m-cart-drawer-items","cart-drawer .mini-cart__inner .mini-cart__empty, cart-drawer .mini-cart__inner .mini-cart__main","#CartDrawer > .drawer__inner, #CartDrawer > .drawer__inner > .drawer__inner-empty",".ymq-cart-app-header","#t4s-mini_cart .t4s-drawer__wrap",".spurit-occ3-container .spurit-occ3__slide-drawer",".slide-cart-container .slide-cart, .salemaximize__drawer-side","cart-items-component, cart-drawer .f-cart-drawer__inner"],tool:[".fg-secomapp-cart-item-promotion",r.getDataConfigSetting("sca_fg_main_promotion_message_query")],page_builder:[".bogos-cart-message-view",".bogos-integration-page-builder-cart-message"]},checkout_btn_query:{default:["input[name='checkout'], button[name='checkout'], input[name='goto_pp'], button[name='goto_pp']","input[name='goto_gc'], button[name='goto_gc'], a[href$='checkout'], form[action='/checkout'] input[type='submit']","button.new_checkout_button, input[value='Checkout'], input[value='Checkout'], input[value='Check out']","input[value='Check Out'] a.checkout-link"],integration:[".icartCheckoutBtn, .rebuy-cart__checkout-button, .qsc2-checkout-button, #mu-checkout-button, .salemaximize__checkout-btn, .spurit-occ3__btn",".satcb-cs-checkout-btn, .hs-checkout-purchase"],tool:[".sca_handle_button_checkout",r.getDataConfigSetting("sca_fg_form_checkbox_button_query")]},product_form_query:{default:["product-info:not(:has(.product__info-wrapper)), product-form, .product-information .product-details .group-block","product-info .product__info-wrapper .product__info-container",r.getDataConfigSetting("sca_fg_form_product_query")],integration:[".m-main-product--wrapper .m-product-info--wrapper"],customize:["#bogos-bundle-view",".bogos-integration-page-builder-bundle"],quantity_break:["#bogos-bundle-quantity-break-view",".bogos-integration-page-builder-quantity-break"],mix_match:["#bogos-mix-match-view",".bogos-integration-page-builder-mix-match"],bundle_page_button:["#bogos-bundle-page-button-view"],upsell:["#bogos-upsell-view",".bogos-integration-page-builder-upsell"],fbt_upsell:["#bogos-fbt-upsell-view",".bogos-integration-page-builder-fbt-upsell"],volume_discount:["#bogos-volume-discount-view",".bogos-integration-page-builder-volume-discount"]},gift_slider_query:{default:["#freegifts-main-page-container"],popup:["#freegifts-main-popup-container"],page_builder:[".bogos-gift-slider-view",".bogos-integration-page-builder-gift-slider"]},mix_match_collection_popup_query:{default:["#bogos-mix-match-main-collection-popup-container"]}}},filterPageDisplay:t=>{let e=t??{custom:{},pages:["all"]};if(e?.pages?.includes("all"))return!0;let{custom_option:o,custom_page:n}=e.custom??{},a=location.pathname;return e?.pages?.some(c=>{if(c==="home"&&a==="/")return!0;if(c!=="custom")return a.includes(c);switch(o){case P.CUSTOM_OPTIONS.equal:return a===n;case P.CUSTOM_OPTIONS.not_equal:return a!==n;case P.CUSTOM_OPTIONS.contains:return a.includes(n);case P.CUSTOM_OPTIONS.not_contains:return!a.includes(n)}})},renderEmpty:(t,e)=>{t.style.display="",t.innerHTML=e},getProductHandleInPage:()=>{let t=[],{gift_icon_collection_query:e}=FGSECOMAPP.QUERY_SELECTOR,o=[...e?.tool,...e?.integration,...e?.default].filter(Boolean).join(",");return document.querySelectorAll(o).forEach(n=>{let c=n.querySelector('a[href*="/products/"]')?.getAttribute("href")?.split("/")??n?.getAttribute("href")?.split("/")??[],i=c?.indexOf("products"),s=i>=0?c[i+1]??null:null;if(s=s?.split("?")?.shift(),r.checkCartItemIsGift(s)){n.remove();return}if(n.querySelector('a[href*="/collections/sca_fg"]')){n.remove();return}if(r.empty(s))return;let l=decodeURI(s);r.empty(FGSECOMAPP.productsInPage[l]?.info)&&t.push(l);let _=(FGSECOMAPP.productsInPage[l]?.positions??[]).filter(f=>!n.isSameNode(f));_.push(n),FGSECOMAPP.productsInPage[l]={...FGSECOMAPP.productsInPage[l],positions:[..._]}}),t},BRAND_MARK_TEMPLATE:t=>{let e=FGSECOMAPP.fgAppearance?.gift_slider,o=e?.others?.hidden_brand_mark,n=!r.empty(e)&&o!==void 0&&!o,a="";return r.empty(t)&&(a=`display: block!important;
                        background: #D9D9D9;
                        text-align: center;
                        font-size: 11px;
                        font-family: inherit;
                        padding: 2px;
                        color: #5E5873;
                        box-sizing: border-box;
                        margin: 0 -10px;
                        border-bottom-left-radius: 5px;
                        border-bottom-right-radius: 5px;`),""}},T={fetch:async(t,e)=>{let o=new URL(SECOMAPP.freegiftProxy,location.origin),n=new URLSearchParams({...Object.fromEntries(o.searchParams),...t});o.search=n.toString();let a=o.pathname+o.search;return await r.fetch(a,{method:"GET",headers:{"Content-Type":"application/liquid","X-Robots-Tag":"noindex",...e}})},getInfoCart:async()=>await T.fetch(),convertProductCurrency:t=>({...t,compare_at_price:r.convertMultiCurrency(t?.compare_at_price),compare_at_price_max:r.convertMultiCurrency(t?.compare_at_price_max),compare_at_price_min:r.convertMultiCurrency(t?.compare_at_price_min),price:r.convertMultiCurrency(t?.price),price_max:r.convertMultiCurrency(t?.price_max),price_min:r.convertMultiCurrency(t?.price_min),variants:t.variants.map(e=>({...e,price:r.convertMultiCurrency(e?.price),compare_at_price:r.convertMultiCurrency(e?.compare_at_price)}))}),getInfoProducts:async(t,e)=>{await T.fetch({sca_products_handle:r.convertObjToString(t,"uri")},e).then(async o=>{let n=await o.json(),{currency:a}=FGSECOMAPP.variables.Shopify,i=(n.currency??"USD")!==a.active;n?.products?.forEach(s=>{if(r.empty(s?.products?.id))return;let{products:u,collections:l,variants_quantity:_}=s,f={...i?T.convertProductCurrency(u):u,collections:l,variants_quantity:_},m=FGSECOMAPP.productsInPage[f.handle];FGSECOMAPP.productsInPage[f.handle]={...m,info:{...f}}})}).catch(o=>{console.warn("BOGOS track: getInfoProductsByProxy",o)})},searchProducts:async(t,e)=>{let o=[];for(let[n,a]of t.entries())r.empty(FGSECOMAPP.productsInPage[a]?.info)&&o.push(a),o.length===20&&(await T.getInfoProducts([...o],e),o=[]),n===t.length-1&&o.length>0&&(await T.getInfoProducts([...o],e),o=[])},cacheProducts:async(t,e,o)=>{let{sca_products_info:n}=FGSECOMAPP.variables.constants,a=[...new Set(t)],c=a.filter(f=>r.empty(FGSECOMAPP.productsInPage[f]?.info)),i={data:[],time:0};try{i=r.convertStringToObj(localStorage.getItem(n))}catch{}let s=Date.now()-i.time<5*60*1e3,u=[];s&&(u=i.data?.map(f=>(FGSECOMAPP.productsByID[f.id]={...f},f.handle))??[]),c=c.filter(f=>!u.includes(f));let l=a.filter(f=>!c.includes(f)),_=async(f,m)=>{if(r.empty(f))return;let{originalProducts:h}=FGSECOMAPP.variables.gifts??{};await T.searchProducts(f,e),Object.values(FGSECOMAPP.productsInPage)?.filter(E=>f.includes(E?.info?.handle)||h?.includes(E?.info?.id))?.forEach(E=>{let{info:C}=E;r.empty(C)||r.empty(C?.id)||(FGSECOMAPP.productsByID[C.id]={...C})}),!m&&typeof o=="function"&&await o()};await _(c),_(l,!0).then(()=>localStorage.setItem(FGSECOMAPP.variables.constants.sca_products_info,r.convertObjToString({data:Object.values(FGSECOMAPP.productsByID)?.map(f=>({id:f.id,handle:f.handle,title:f.title,featured_image:f.featured_image,available:f.available,vendor:f.vendor,type:f.type,collections:f.collections?.map(m=>({id:m.id,handle:m.handle,title:m.title}))??[],variants:f.variants?.map(m=>({id:m.id,available:m.available,price:m.price,compare_at_price:m.compare_at_price,title:m.title,featured_image:{src:m?.featured_image?.src??f.featured_image},inventory_management:m.inventory_management}))??[]}))??[],time:Date.now()})))}},I={request:async(t,e)=>{let{shop:o,web_pixel:n}=FGSECOMAPP.variables.Shopify??{},a={...e,shop:o,time:Date.now(),key:"bogos-collect-sessions"};if(n&&typeof Shopify.analytics.publish=="function"){Shopify.analytics.publish(e.bogos_event,{payload:a,data:t});return}if(r.empty(SECOMAPP.bogosCollectUrl)){console.warn("BOGOS track: missing url");return}return await r.fetch(SECOMAPP.bogosCollectUrl,{method:"POST",headers:{"Content-Type":"application/json",...e,authorization:`Bearer ${r.convertObjToString(a)}`},body:JSON.stringify({shop:o,data:r.convertObjToString(t,"uri")})})},sessionViews:async(t,e,o)=>{try{let n=t?.map(a=>({shop:FGSECOMAPP.variables.Shopify?.shop,time:new Date().toISOString(),obj_id:a.id,type:e,belongs:o,name:"session_view"}));if(r.empty(n))return;await I.request(n,{bogos_event:"bogos_view"})}catch(n){console.warn(`BOGOS track: ${o}:view session`,n)}},addToCart:async(t,e,o)=>{try{let n=t?.map(a=>({shop:FGSECOMAPP.variables.Shopify?.shop,time:new Date().toISOString(),obj_id:a.id,type:e,belongs:o,name:"add_to_cart"}));if(r.empty(n))return;await I.request(n,{bogos_event:"bogos_atc"})}catch(n){console.warn(`BOGOS track: ${o}:add_to_cart session`,n)}}},R={apply_discounts:async t=>{let e=[...FGSECOMAPP.bogos_discounts_apply,...t].filter(Boolean);if(FGSECOMAPP.bogos_discounts_apply=[...new Set(e)],e=FGSECOMAPP.bogos_discounts_apply.join(","),localStorage.setItem(FGSECOMAPP.variables.constants.bogos_discounts_apply,r.convertObjToString(FGSECOMAPP.bogos_discounts_apply)),!!e.length)try{if((await A.apply_discounts(FGSECOMAPP.bogos_discounts_apply))?.ok)return;await r.fetch(`${FGSECOMAPP.variables.Shopify?.sca_update_url??"/cart/update"}?bogos_offers`,{method:"POST",headers:{bogos_codes:t.toString(),"Content-Type":"application/json"},body:JSON.stringify({discount:e})})}catch(o){console.warn("BOGOS track: apply codes failed",e,o)}},add_items_trigger:(t,e,o)=>{let{sca_add_url:n}=FGSECOMAPP.variables.Shopify;e={...e,_bogos_trigger_type:o};let a=t.map(c=>{let{bogos_item_properties:i}=FGSECOMAPP.variables.Shopify??{},s=i?.bundles?.[c._bogos_trigger_id]?.[c.id]??i?.[c.id],u={...e};switch(o){case P.BUNDLE_TYPE.default:case P.BUNDLE_TYPE.classic:let{is_free:l}=c;u={...e,_bogos_trigger:`${e._bogos_trigger}${l??!1?"_free":""}`},delete c?.is_free;break;case P.BUNDLE_TYPE.mix_match:u={...e,_bogos_trigger:`${e._bogos_trigger}${r.empty(c?.bogos_mix_id)?"":"_"+c.bogos_mix_id}`},delete c.bogos_mix_id;break;case P.BUNDLE_TYPE.bundle_page:u={...e,_bogos_trigger:`${e._bogos_trigger}${r.empty(c?.bogos_step_id)?"":"_"+c.bogos_step_id}`},delete c.bogos_step_id;break;default:}return{...c,properties:{...u,otherPp:s}}});return r.fetch(`${n??"/cart/add.js"}?bogos_discount`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json",bogos_discount:"1"},body:JSON.stringify({items:a})})}},A={query:async t=>{t??={};let{country:e,sca_locale:o,locale:n,shop:a,shop_domain:c}=FGSECOMAPP.variables.Shopify,{access_token:i}=FGSECOMAPP.storefront||{},s=r.getCookie("cart")??FGSECOMAPP.SHOPIFY_CART?.token;if(r.empty(i))return{};let u=JSON.stringify({...t,variables:{...t?.variables,cartId:r.getCartShopifyID(s),language:(o??n)?.toUpperCase().replace("-","_"),country:e}});return await r.fetch(`https://${c??a}/api/2025-04/graphql.json`,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":i,"Content-Length":u.length,"User-Agent":"secomapp/bogos-ext","Cache-Control":"public, max-age=60, stale-while-revalidate=10"},body:u})},fetchCart:async()=>{try{let t=await A.query({query:M.CART_QUERY_FRAGMENT,variables:{numCartLines:250,numberCollections:250}});return t.ok?A.convertStorefrontCart(await t.json()):null}catch(t){console.warn("BOGOS track: storefront failed",t)}},apply_discounts:async t=>{try{return await A.query({query:M.CART_APPLY_DISCOUNT_CODES,variables:{discountCodes:t}})}catch(e){console.warn("BOGOS track: storefront discount failed",e)}},convertStorefrontCart:t=>{let{cart:e}=t.data??{};if(r.empty(e))return null;let{totalQuantity:o,note:n}=e||{},a=FGSECOMAPP.variables.Shopify?.currency?.active,c=e?.lines?.nodes?.map(i=>{let{merchandise:s}=i,{product:u}=s;return a=s.price.currencyCode,{product:{key:i.id,id:i.id,quantity:i.quantity,variant_id:r.getIntShopifyId(s.id),product_id:r.getIntShopifyId(u.id),product_title:u.title,discounts:i.discountAllocations?.map(l=>({amount:l.discountedAmount.amount,title:l.code??l.title})),discounted_price:parseFloat(i.cost.totalAmount?.amount)*100/i.quantity,price:parseFloat(s.price.amount)*100,compare_at_price:s.compareAtPrice?.amount*100,currency:s.price.currencyCode,title:s.title,handle:u.handle,vendor:u.vendor,product_type:u.productType,attributes:i.attributes?.reduce((l,_)=>(l[_.key]=_.value,l),{})??{},selling_plan_allocation:!r.empty(i.sellingPlanAllocation)&&!r.empty(i.sellingPlanAllocation?.sellingPlan)?{selling_plan:{id:i.sellingPlanAllocation?.sellingPlan?.id??""}}:void 0,requires_shipping:i.requiresShipping,options_with_values:s.selectedOptions},tags:u.tags,collections:u.collections.nodes.map(l=>({id:r.getIntShopifyId(l.id),title:l.title}))}});return{cart:c,shopify_cart:{token:e.id,items:c.map(i=>({...i.product})),currency:a,attributes:e.attributes?.reduce((i,s)=>(i[s.key]=s.value,i),{})??{},item_count:o,note:n,original_total_price:parseFloat(e.cost?.totalAmount?.amount)*100}}},defaultReturnProducts:t=>({data:t.filter(e=>!e?.tags?.includes("bogos-gift")&&!e?.handle?.includes("-sca_clone_freegift")).map(e=>({...e,available:!0,id:r.getIntShopifyId(e.id),thumbnail:e?.featuredImage?.url??"",title:e.title,productType:e.productType,vendor:e.vendor,variants:e?.variants?.nodes?.filter(({availableForSale:o})=>o).map(o=>({...o,available:!0,id:r.getIntShopifyId(o.id),thumbnail:o?.image?.url,price:o.price.amount}))??[]})).filter(e=>!r.empty(e.variants))}),queryProductsInCollection:async(t,e=8,o="")=>{let n={available:!0},a={id:`gid://shopify/Collection/${t}`,first:e,filters:n};r.empty(o)||(a={...a,after:o});let c=await A.query({query:M.PRODUCTS_COLLECTION,variables:a});if(!c?.ok)return{};let i=await c.json(),s=i?.data?.collection?.products?.nodes??[],{pageInfo:u}=i?.data?.collection?.products??{};return{...A.defaultReturnProducts(s),meta_data:u}},queryProducts:async(t="",e=8,o="")=>{let n={first:e,query:t};r.empty(o)||(n={...n,after:o});let a=await A.query({query:M.GET_PRODUCTS,variables:n});if(!a?.ok)return{};let c=await a.json(),i=c?.data?.products?.nodes??[],{pageInfo:s}=c?.data?.products??{};return{...A.defaultReturnProducts(i),meta_data:s}}},{fetch:B}=window,v={createGlobalVariables:()=>{let{cart_and_checkout_validation:t,offer_process:e}=FGSECOMAPP.fgSettings??{};v.isSpecificOffer=t?.offer||e===P.OFFER_TYPE.function,FGSECOMAPP.helper={...FGSECOMAPP.helper,initLZString:r.initLZString,templateHTML:new F,shopifyFunc:R,storefront:A,utils:r,proxy:T,integration:b,customize:k,collect:I},FGSECOMAPP.variables.isCheckout=document.querySelector("#secomapp_freegifts_version")?.getAttribute("data-template")==="fg-checkout",window.FoxTheme?.pubsub&&(FGSECOMAPP.variables.Shopify.disable_async_process_fg=!0);try{FGSECOMAPP.variables.sca_fg_codes=JSON.parse(r.getCookie("sca_fg_codes")??"[]")}catch{}},validateCodesApply:()=>{let{bogos_discounts_apply:t}=FGSECOMAPP.variables.constants;try{r.empty(FGSECOMAPP.cartItems)?FGSECOMAPP.bogos_discounts_apply=[]:(FGSECOMAPP.bogos_discounts_apply=r.convertStringToObj(localStorage.getItem(t)),FGSECOMAPP.bogos_discounts_apply=FGSECOMAPP.cartItems.map(e=>e.discounts?.filter(o=>o.title?.includes("BOGOS-"))?.map(o=>o.title)??[]).flat()),localStorage.setItem(t,r.convertObjToString(FGSECOMAPP.bogos_discounts_apply))}catch{FGSECOMAPP.bogos_discounts_apply=[]}},init:async()=>{document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.START_RENDER_APP,{detail:{}})),k.initQuerySelector(),v.createGlobalVariables(),[{key:"gift",always:!0},{key:"bundle",always:!1},{key:"upsell",always:!1},{key:"discount",always:!1}].forEach(e=>{let o=e.always||window.fgData?.[`${e.key}s`]?.length>0,n=document.querySelector(`#bogos-${e.key}-script`),a=n?.getAttribute("data-url");if(!a||!o)return;let c=document.createElement("script");c.src=a,c.async=!0,(n.parentNode??document.body).appendChild(c)}),r.init(),b.init(),v.validateCodesApply(),document.dispatchEvent(new CustomEvent(FGSECOMAPP.CUSTOM_EVENTS.END_RENDER_APP,{detail:{}}))}};v.init().then()})();})();
