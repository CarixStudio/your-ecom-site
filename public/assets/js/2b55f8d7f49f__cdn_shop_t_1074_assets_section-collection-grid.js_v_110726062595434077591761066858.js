"use strict";(self.webpackChunkshopify_theme=self.webpackChunkshopify_theme||[]).push([[418],{"032a1e70f2028ef9077a":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{
var _core_dom_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("104cd0cd3a89b0e4c249"),_core_shopify_init_section__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("aca2cd81cf506d4d0cc6"),_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b56a16cdaeb8dc9b98d0"),_github_mini_throttle__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("f0c1541ca512912fb352"),_core_ajax_get_ajax_section__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("43debc60607aaaeb7620"),_core_messaging_main__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("556e9bae4a656349c5e1"),_theme_currency_check__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("04b826e4fa974c7e713a")
;(0,_core_shopify_init_section__WEBPACK_IMPORTED_MODULE_0__.initSection)(".js-collection-grid-new",(section=>{var _findOneElement;const namespace=(0,_core_dom_events__WEBPACK_IMPORTED_MODULE_3__.makeEventNamespace)(),gridContainer=(0,
_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(section,".js-collection-grid"),abortController=new AbortController,templateKey=null===(_findOneElement=(0,
_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(section,".js-collection-grid-section"))||void 0===_findOneElement?void 0:_findOneElement.getAttribute("data-section-id"),loadMoreWrapper=(0,
_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(section,".js-load-more-wrapper"),mainBus=(0,_core_messaging_main__WEBPACK_IMPORTED_MODULE_1__.initMainBus)(),cachedLayout=localStorage.getItem("plp-layout")
;if(!gridContainer||!templateKey)return{unload:()=>{namespace.destroy()}};const updateSelectedLayout=()=>{const buttons=(0,
_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__.findElements)(section,"button[data-columns]"),columns=gridContainer.getAttribute("data-grid-columns");columns&&(buttons.forEach((button=>{
const buttonColumns=button.getAttribute("data-columns");button.setAttribute("data-selected",`${buttonColumns===columns}`)})),localStorage.setItem("plp-layout",columns))},handleLayoutChange=target=>{
const columns=target.getAttribute("data-columns");columns&&(gridContainer.setAttribute("data-grid-columns",columns),updateSelectedLayout())};namespace.addDelegatedEventListener(section,"button[data-columns]","click",handleLayoutChange),
namespace.addDelegatedEventListener(section,".js-collection-load-more","click",(target=>{target.setAttribute("disabled","true");try{const nextPageUrl=window.location.origin+target.getAttribute("data-next-page-url");(0,
_core_ajax_get_ajax_section__WEBPACK_IMPORTED_MODULE_5__.getAjaxSection)(nextPageUrl,{sections:templateKey}).then((res=>{const data=res[templateKey];if(data){var _parsedState_querySelector,_window_okeWidgetApi
;const parsedState=(new DOMParser).parseFromString(data,"text/html"),loadMoreContents=null===(_parsedState_querySelector=parsedState.querySelector(".js-load-more-wrapper"))||void 0===_parsedState_querySelector?void 0:_parsedState_querySelector.innerHTML,gridElement=parsedState.querySelector(".js-collection-grid")
;gridElement&&gridElement.querySelectorAll(".js-content-card").forEach((card=>card.remove()));const productContents=null==gridElement?void 0:gridElement.innerHTML;if(!productContents)throw new Error("No product contents found")
;gridContainer.innerHTML+=productContents,mainBus.send({name:"request:load-product-cards",details:null,source:{type:"global"}}),(0,_theme_currency_check__WEBPACK_IMPORTED_MODULE_2__.init)(),
loadMoreContents&&loadMoreWrapper&&(loadMoreWrapper.innerHTML=loadMoreContents),
(null===(_window_okeWidgetApi=window.okeWidgetApi)||void 0===_window_okeWidgetApi?void 0:_window_okeWidgetApi.initAllWidgets)&&window.okeWidgetApi.initAllWidgets()}}))}catch(error){console.error("Error while loading more products:",error),
target.removeAttribute("disabled")}}));const updateLayoutOnResize=()=>{const columns=gridContainer.getAttribute("data-grid-columns"),isMobile=window.innerWidth<821
;columns&&(isMobile&&"3"===columns?gridContainer.setAttribute("data-grid-columns","2"):isMobile||"3"===columns||gridContainer.setAttribute("data-grid-columns","3"),updateSelectedLayout())},throttledUpdateLayoutOnResize=(0,
_github_mini_throttle__WEBPACK_IMPORTED_MODULE_6__.debounce)(updateLayoutOnResize,300);if(window.addEventListener("resize",throttledUpdateLayoutOnResize,{passive:!0,signal:abortController.signal}),cachedLayout){const layoutButton=(0,
_core_dom_traversal__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(section,`button[data-columns="${cachedLayout}"]`);layoutButton&&handleLayoutChange(layoutButton)}return updateLayoutOnResize(),{unload:()=>{namespace.destroy(),
abortController.abort()}}}))}},__webpack_require__=>{__webpack_require__.O(0,[945,902,548,275],(()=>__webpack_require__(__webpack_require__.s="032a1e70f2028ef9077a"))),__webpack_require__.O()}]);