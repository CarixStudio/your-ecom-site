"use strict";(self.webpackChunkshopify_theme=self.webpackChunkshopify_theme||[]).push([[437],{f2d5f94c395892925f6f:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{
var swiper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a7d4f3350cfba0ab905b"),_core_dom_events_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("104cd0cd3a89b0e4c249"),_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b56a16cdaeb8dc9b98d0"),_core_shopify_init_snippet_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("902890af3e9d44054e88"),_core_messaging_main_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("556e9bae4a656349c5e1")
;(0,_core_shopify_init_snippet_index_js__WEBPACK_IMPORTED_MODULE_2__.initSnippet)("meet-the-shades-drawer",(snippet=>{const namespace=(0,_core_dom_events_index_js__WEBPACK_IMPORTED_MODULE_3__.makeEventNamespace)(),mainBus=(0,
_core_messaging_main_index_js__WEBPACK_IMPORTED_MODULE_1__.initMainBus)(),mediaCarousels=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findElements)(snippet,".js-product-media-carousel"),progressBars=(0,
_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findElements)(snippet,".js-media-progressBar"),carousels=[];mediaCarousels.forEach((mediaCarousel=>{
const mediaCarouselSwiper=new swiper__WEBPACK_IMPORTED_MODULE_0__.default(mediaCarousel,{slidesPerView:1.05,spaceBetween:2,init:!0,slidesOffsetBefore:0,modules:[swiper__WEBPACK_IMPORTED_MODULE_0__.Navigation],navigation:{nextEl:(0,
_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(mediaCarousel,".js-media-swiper-next"),prevEl:(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(mediaCarousel,".js-media-swiper-prev")},
breakpoints:{861:{slidesPerView:2}},on:{progress(_,progress){progressBars.forEach((progressBar=>{progressBar.style.maxWidth=100*progress+"%"}))}}});carousels.push(mediaCarouselSwiper)}));const closeSwatchesPopup=()=>{
const swatchesPopups=document.querySelectorAll(".js-product-swatches-popup"),body=document.querySelector("body");swatchesPopups.forEach((swatchesPopup=>{swatchesPopup.classList.remove("Product-swatches-popup__active")})),
null==body||body.setAttribute("data-has-swatches-popup-opened","false")},resetProgress=()=>{progressBars.forEach((progressBar=>{progressBar.style.maxWidth="0%"}))},handleSelectedVariant=variant=>{
const productContent=variant.closest("[data-shade-product-handle]"),productId=variant.getAttribute("data-product-id");productId&&productContent instanceof HTMLElement&&(((productContent,productId)=>{
productContent.querySelectorAll(".js-product-media-carousel-wrapper").forEach((mediaCarouselWrapper=>{mediaCarouselWrapper.classList.toggle("u-hide",mediaCarouselWrapper.getAttribute("data-product-id")!==productId)}))
})(productContent,productId),(optionSelected=>{const elements=[".js-selected-image",".js-selected-color",".js-selected-title",".js-selected-description"]
;["data-variant-image","data-variant-color","data-variant-title","data-variant-description"].forEach(((attr,index)=>{const optionContainer=optionSelected.closest(".js-swatch-popup-toggle"),element=(0,
_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findOneElement)(optionContainer,elements[index]||"");var newValue,targetElement;element instanceof HTMLElement&&(targetElement=element,
(newValue=optionSelected.getAttribute(attr))&&targetElement&&(targetElement.classList.contains("js-selected-color")?targetElement.style.backgroundColor=newValue:targetElement.classList.contains("js-selected-image")?targetElement.style.backgroundImage=`url(${newValue})`:targetElement.classList.contains("js-selected-title")?targetElement.innerHTML=newValue+"&nbsp;-&nbsp;":targetElement.textContent=newValue))
}))})(variant),(productId=>{const selectedVariantSwatch=snippet.querySelector(`.js-variant-swatch[data-product-id="${productId}"]`);selectedVariantSwatch instanceof HTMLElement&&selectedVariantSwatch.click()})(productId),resetProgress(),
closeSwatchesPopup())};return namespace.addDelegatedEventListener(snippet,".js-product-swatch-option","click",((option,e)=>{e.preventDefault(),e.stopImmediatePropagation(),handleSelectedVariant(option)})),
namespace.addDelegatedEventListener(snippet,".js-swatch-selector-close","click",((_,e)=>{e.preventDefault(),e.stopImmediatePropagation(),closeSwatchesPopup()})),
namespace.addDelegatedEventListener(snippet,".js-product-swatch-option","keyup",((option,e)=>{e.stopImmediatePropagation(),e instanceof KeyboardEvent&&"Enter"===e.key&&handleSelectedVariant(option)})),
mainBus.on("request:open-shades-drawer").do((({details:{productVariantIds:productVariantIds}})=>{const drawerScroll=snippet.closest(".js-offcanvas-content");drawerScroll&&drawerScroll.scrollTo({top:0,behavior:"instant"}),
(productVariantIds=>{(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_4__.findElements)(snippet,"[data-shade-product-id]").forEach((productDrawer=>{const productId=productDrawer.getAttribute("data-shade-product-id")
;if(!productId)return;const showProduct=productVariantIds.includes(productId);productDrawer.classList.toggle("u-hide",!showProduct)}))})(productVariantIds),resetProgress(),carousels.forEach((carousel=>{carousel.slideTo(0),carousel.update()
}))})),()=>{carousels.forEach((carousel=>{carousel.destroy()})),namespace.destroy()}}))}},__webpack_require__=>{__webpack_require__.O(0,[791,902,714],(()=>__webpack_require__(__webpack_require__.s="f2d5f94c395892925f6f"))),
__webpack_require__.O()}]);