"use strict";(self.webpackChunkshopify_theme=self.webpackChunkshopify_theme||[]).push([[224],{f4b63782b511ad8e3ee2:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var swiper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a7d4f3350cfba0ab905b"),_core_dom_events_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("104cd0cd3a89b0e4c249"),_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b56a16cdaeb8dc9b98d0");(0,__webpack_require__("902890af3e9d44054e88").initSnippet)("shades-carousel",snippet=>{const namespace=(0,_core_dom_events_index_js__WEBPACK_IMPORTED_MODULE_2__.makeEventNamespace)(),abortController=new AbortController,swatchSwiperElement=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-swatch-swiper"),contentSwiperElement=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-content-swiper"),swatchesButtons=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findElements)(snippet,".js-variant-swatch"),sectionWrapper=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,"#js-meet-your-shade"),isSmpPage=sectionWrapper?.getAttribute("data-is-smp-page")==="true",thumbPrev=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-thumbs-prev"),thumbNext=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-thumbs-next"),isInsideDrawer=sectionWrapper?.getAttribute("data-is-inside-drawer")==="true";if(!(thumbNext instanceof HTMLButtonElement&&thumbPrev instanceof HTMLButtonElement))return()=>{};if(!swatchSwiperElement||!contentSwiperElement)return()=>{};const totalVariants=parseInt(swatchSwiperElement.getAttribute("data-total-variants")||"0"),getSlideIndex=slide=>parseInt(slide.getAttribute("data-index")||"0",10),getActiveSlideIndex=()=>{const activeSwatch=contentSwiperElement.querySelector(".swiper-slide-active");return activeSwatch&&activeSwatch instanceof HTMLElement?getSlideIndex(activeSwatch):0},changeSelectedSwatch=index=>{swatchesButtons.forEach((swatchButton,i)=>{swatchButton.classList.toggle("selected",i===index)})},staticSwiper=totalVariants<=6,swatchSwiper=new swiper__WEBPACK_IMPORTED_MODULE_0__.default(swatchSwiperElement,{slidesPerView:"auto",slidesPerGroup:staticSwiper?6:1,slidesOffsetBefore:3,slidesOffsetAfter:3,spaceBetween:10,allowTouchMove:!0,loop:!1,init:!0,breakpoints:{510:{slidesPerGroup:staticSwiper?6:1,slidesOffsetAfter:isInsideDrawer?3:0,slidesOffsetBefore:isInsideDrawer?3:0}},on:{slideChange(swiper){const activeIndex=getActiveSlideIndex();thumbNext.disabled=activeIndex===swiper.slides.length-1,thumbPrev.disabled=activeIndex===0},init(swiper){thumbNext.disabled=!1,staticSwiper&&(thumbNext.disabled=!0,thumbPrev.disabled=!0,swiper.allowTouchMove=!1)}}}),updateProgress=index=>{const scrollbarContainer=(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-swiper-scrollbar"),realProgress=index/(totalVariants-1);scrollbarContainer&&(scrollbarContainer.style.maxWidth=100*realProgress+"%")},contentSwiper=new swiper__WEBPACK_IMPORTED_MODULE_0__.default(contentSwiperElement,{slidesPerView:isInsideDrawer?1.35:"auto",spaceBetween:24,allowTouchMove:!0,slidesOffsetBefore:isInsideDrawer?0:72,loop:totalVariants>3,init:!0,modules:[swiper__WEBPACK_IMPORTED_MODULE_0__.Navigation],navigation:{nextEl:(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-swiper-next"),prevEl:(0,_core_dom_traversal_index_js__WEBPACK_IMPORTED_MODULE_3__.findOneElement)(snippet,".js-swiper-prev")},breakpoints:{861:{slidesPerView:isInsideDrawer?3:"auto",slidesOffsetBefore:isInsideDrawer?0:175}},on:{slideChange(){setTimeout(()=>{const activeIndex=getActiveSlideIndex();changeSelectedSwatch(activeIndex),swatchSwiper.slideTo(activeIndex)},0)}}}),handleSlideChange=(index,triggerSMP)=>{changeSelectedSwatch(index),updateProgress(index),contentSwiper.slideToLoop(index),swatchSwiper.slideTo(index),isSmpPage&&triggerSMP&&(index2=>{const variantSwatch=swatchesButtons.find(button=>getSlideIndex(button)===index2),variantHandle=variantSwatch?.getAttribute("data-variant-handle");window.swatchRedirectHandler&&variantHandle&&window.swatchRedirectHandler.loadPage(variantHandle)})(index)};return namespace.addDelegatedEventListener(snippet,".js-variant-swatch","click",target=>{const index=parseInt(target.getAttribute("data-index")||"0",10);handleSlideChange(index,!0)}),namespace.addDelegatedEventListener(snippet,".js-thumbs-next","click",()=>{const activeSwatch=swatchesButtons.find(swatchButton=>swatchButton.classList.contains("selected"));if(!activeSwatch)return;const index=getSlideIndex(activeSwatch)+1;handleSlideChange(index)}),namespace.addDelegatedEventListener(snippet,".js-thumbs-prev","click",()=>{const activeSwatch=swatchesButtons.find(swatchButton=>swatchButton.classList.contains("selected"));if(!activeSwatch)return;const index=getSlideIndex(activeSwatch)-1;handleSlideChange(index)}),contentSwiper.on("slideChange",()=>{const activeIndex=contentSwiper.realIndex;updateProgress(activeIndex)}),(()=>{const activeVariantSwatch=swatchesButtons.find(swatchButton=>swatchButton.classList.contains("selected"));if(!activeVariantSwatch)return;const index=getSlideIndex(activeVariantSwatch);updateProgress(index),contentSwiper.slideToLoop(index),swatchSwiper.slideTo(index)})(),()=>{contentSwiper.destroy(),swatchSwiper.destroy(),abortController.abort(),namespace.destroy()}})}},__webpack_require__=>{__webpack_require__.O(0,[791,902,714],()=>__webpack_require__(__webpack_require__.s="f4b63782b511ad8e3ee2")),__webpack_require__.O()}]);
//# sourceMappingURL=/cdn/shop/t/1074/assets/snippet-shades-carousel.js.map?v=167319785118573149211761066876
